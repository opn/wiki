{
  "title": "Himalayan Academy Sitemaps",
  "story": [
    {
      "type": "paragraph",
      "id": "09397164351d77f8",
      "text": "Himalayan Academy sitemaps are automatically generated by a script, which takes the different elements, media types, and sections of the various [[Himalayan Academy Web Site]], and creates separate but linked [[sitemaps]] for each component."
    },
    {
      "type": "paragraph",
      "id": "d4e3812c135b3d66",
      "text": "The root sitemap is [[sitemap.xml]] which is a [[Sitemaps Index]] pointing to the individual sitemaps that the script creates."
    },
    {
      "type": "markdown",
      "id": "4094c8ea4654aa7d",
      "text": "# Description"
    },
    {
      "type": "paragraph",
      "id": "d92ac1f5db1b8a32",
      "text": "The [[sitemap]] will need to generate the URL’s for Google to crawl, in three areas:"
    },
    {
      "type": "reference",
      "id": "3339d3aa6eeaa503",
      "site": "dev.himalayan.academy",
      "slug": "media-pages",
      "title": "Media Pages",
      "text": "A media pages are dynamically generated from the data base using different models depending on the media type which then push the content out through views, which are also unique to each media type."
    },
    {
      "type": "reference",
      "id": "244a0c0295ce56e8",
      "site": "dev.himalayan.academy",
      "slug": "html-pages",
      "title": "HTML Pages",
      "text": "The [[Himalayan Academy Web Site]] contains a small number of simple HTML Pages. Here we describe their structure in relation to coding of the  [[html-sitemap.xml]] sitemap."
    },
    {
      "type": "reference",
      "id": "98b1722d8a4c39a2",
      "site": "dev.himalayan.academy",
      "slug": "taka-blog",
      "title": "TAKA BLOG",
      "text": "This is an independent, PHP based, Wordpress installation, it calls the same CSS, so it appears transparent to the user, a seamless part of the same revIgniter site. we can even mix and match a little bit by doing PHP includes of /some-directory/some-library.lc  and use Livecode if needed here and there. "
    },
    {
      "type": "markdown",
      "id": "d65adfbf888f9ca3",
      "text": "# Sitemap Creation"
    },
    {
      "type": "paragraph",
      "id": "a21a3f77232b3939",
      "text": "We are calling the controller that does the work:\n\n"
    },
    {
      "type": "code",
      "id": "9132cbc6e94e3dac",
      "text": "build-site-map.lc"
    },
    {
      "type": "paragraph",
      "id": "b7957d7739c322f7",
      "text": "The media items all follow a standard URL pattern:"
    },
    {
      "type": "code",
      "id": "43a949ef42ea5d94",
      "text": "http://www.himalayanacademy.com/view/##-file_id-##"
    },
    {
      "type": "paragraph",
      "id": "672c5e5fc61a7040",
      "text": "We also have:"
    },
    {
      "type": "code",
      "id": "decc078114603510",
      "text": "http://www.himalayanacademy.com/apps/##-file_id-##"
    },
    {
      "type": "paragraph",
      "id": "193df5d521524eb6",
      "text": "\n"
    },
    {
      "type": "markdown",
      "id": "4efc5b59462d09fc",
      "text": "# See also"
    },
    {
      "type": "reference",
      "id": "52eef75a1b8e3c55",
      "site": "dev.himalayan.academy",
      "slug": "sitemapxml",
      "title": "sitemap.xml",
      "text": "[[Himalayan Academy Sitemaps]]"
    }
  ],
  "journal": [
    {
      "type": "create",
      "item": {
        "title": "Himalayan Academy Sitemaps",
        "story": []
      },
      "date": 1459940368359
    },
    {
      "item": {
        "type": "factory",
        "id": "52eef75a1b8e3c55"
      },
      "id": "52eef75a1b8e3c55",
      "type": "add",
      "date": 1459940369469
    },
    {
      "type": "add",
      "item": {
        "type": "markdown",
        "id": "0ac711c4fdaa00ca",
        "text": "The site map will need to generate the URL’s for Google to crawl, in three areas:\n* All [[Media Items]] that are entered in the [[MySQL Database]] that are publicly available\n* All [[HTML Files]] that are meant for public consumption\n* [[TAKA Blog]]"
      },
      "id": "0ac711c4fdaa00ca",
      "date": 1459940376569
    },
    {
      "type": "edit",
      "id": "52eef75a1b8e3c55",
      "item": {
        "type": "reference",
        "id": "52eef75a1b8e3c55",
        "site": "dev.himalayan.academy",
        "slug": "sitemapxml",
        "title": "sitemap.xml",
        "text": "[[Himalayan Academy Sitemaps]]"
      },
      "date": 1459940380983
    },
    {
      "item": {
        "type": "factory",
        "id": "09397164351d77f8"
      },
      "id": "09397164351d77f8",
      "type": "add",
      "after": "52eef75a1b8e3c55",
      "date": 1459940382152
    },
    {
      "type": "move",
      "order": [
        "09397164351d77f8",
        "0ac711c4fdaa00ca",
        "52eef75a1b8e3c55"
      ],
      "id": "09397164351d77f8",
      "date": 1459940383619
    },
    {
      "type": "edit",
      "id": "09397164351d77f8",
      "item": {
        "type": "paragraph",
        "id": "09397164351d77f8",
        "text": "Himalayan Academy sitemaps are automatically generated by a script, which takes the different elements, media types, and sections of the various [[HAP Projects]], and creates separate but linked [[sitemaps]] for each component."
      },
      "date": 1459940503378
    },
    {
      "type": "add",
      "id": "4094c8ea4654aa7d",
      "item": {
        "type": "paragraph",
        "id": "4094c8ea4654aa7d",
        "text": "# The Brief"
      },
      "after": "09397164351d77f8",
      "date": 1459940515434
    },
    {
      "type": "edit",
      "id": "4094c8ea4654aa7d",
      "item": {
        "type": "markdown",
        "id": "4094c8ea4654aa7d",
        "text": "# The Brief"
      },
      "date": 1459940516794
    },
    {
      "item": {
        "type": "factory",
        "id": "4efc5b59462d09fc"
      },
      "id": "4efc5b59462d09fc",
      "type": "add",
      "after": "52eef75a1b8e3c55",
      "date": 1459940534964
    },
    {
      "type": "move",
      "order": [
        "09397164351d77f8",
        "4094c8ea4654aa7d",
        "0ac711c4fdaa00ca",
        "4efc5b59462d09fc",
        "52eef75a1b8e3c55"
      ],
      "id": "4efc5b59462d09fc",
      "date": 1459940536389
    },
    {
      "type": "edit",
      "id": "4efc5b59462d09fc",
      "item": {
        "type": "markdown",
        "id": "4efc5b59462d09fc",
        "text": "# See also"
      },
      "date": 1459940543435
    },
    {
      "type": "add",
      "id": "d4e3812c135b3d66",
      "item": {
        "type": "paragraph",
        "id": "d4e3812c135b3d66",
        "text": "The root sitemap is [[sitemap.xml]] which is an [[index sitemap]] pointing to the individual sitemaps that the script creates."
      },
      "after": "09397164351d77f8",
      "date": 1459940603310
    },
    {
      "type": "add",
      "item": {
        "type": "paragraph",
        "id": "d65adfbf888f9ca3",
        "text": "These are covered below \n\nWe are calling the controller that does the work:\n\n"
      },
      "after": "0ac711c4fdaa00ca",
      "id": "d65adfbf888f9ca3",
      "date": 1459940622795
    },
    {
      "type": "add",
      "item": {
        "type": "code",
        "id": "9132cbc6e94e3dac",
        "text": "build-site-map.lc"
      },
      "after": "d65adfbf888f9ca3",
      "id": "9132cbc6e94e3dac",
      "date": 1459940630949
    },
    {
      "type": "edit",
      "id": "d65adfbf888f9ca3",
      "item": {
        "type": "paragraph",
        "id": "d65adfbf888f9ca3",
        "text": "# Controller"
      },
      "date": 1459940646363
    },
    {
      "type": "edit",
      "id": "d65adfbf888f9ca3",
      "item": {
        "type": "markdown",
        "id": "d65adfbf888f9ca3",
        "text": "# Controller"
      },
      "date": 1459940648429
    },
    {
      "type": "add",
      "id": "a21a3f77232b3939",
      "item": {
        "type": "paragraph",
        "id": "a21a3f77232b3939",
        "text": "We are calling the controller that does the work:\n\n"
      },
      "after": "d65adfbf888f9ca3",
      "date": 1459940649461
    },
    {
      "type": "add",
      "item": {
        "type": "paragraph",
        "id": "b7957d7739c322f7",
        "text": "The media items all follow a standard URL pattern:"
      },
      "after": "9132cbc6e94e3dac",
      "id": "b7957d7739c322f7",
      "date": 1459940655032
    },
    {
      "type": "add",
      "item": {
        "type": "code",
        "id": "43a949ef42ea5d94",
        "text": "http://www.himalayanacademy.com/view/##-file_id-##"
      },
      "after": "b7957d7739c322f7",
      "id": "43a949ef42ea5d94",
      "date": 1459940658985
    },
    {
      "type": "add",
      "item": {
        "type": "paragraph",
        "id": "672c5e5fc61a7040",
        "text": "We also have:"
      },
      "after": "43a949ef42ea5d94",
      "id": "672c5e5fc61a7040",
      "date": 1459940662759
    },
    {
      "type": "add",
      "item": {
        "type": "code",
        "id": "decc078114603510",
        "text": "http://www.himalayanacademy.com/apps/##-file_id-##"
      },
      "after": "672c5e5fc61a7040",
      "id": "decc078114603510",
      "date": 1459940667054
    },
    {
      "type": "add",
      "item": {
        "type": "markdown",
        "id": "97f6acb35ab5270e",
        "text": "# MEDIA/APP ITEMS"
      },
      "after": "decc078114603510",
      "id": "97f6acb35ab5270e",
      "date": 1459940670450
    },
    {
      "type": "add",
      "item": {
        "type": "paragraph",
        "id": "1df7248885e1e02f",
        "text": "A media pages are dynamically generated from the data base using different models depending on the media type which then push the content out through views, which are also unique to each media type. "
      },
      "after": "97f6acb35ab5270e",
      "id": "1df7248885e1e02f",
      "date": 1459940674033
    },
    {
      "type": "add",
      "item": {
        "type": "paragraph",
        "id": "6188e8e18ac8d906",
        "text": "That said, none of that matters to Google… I also don’t  think it matters what order the site map nodes are in.  So the controller that generates the site map could just start working on the big XML variable and dump the data in three stages starting with the media pages. We just query."
      },
      "after": "1df7248885e1e02f",
      "id": "6188e8e18ac8d906",
      "date": 1459940687641
    },
    {
      "type": "add",
      "item": {
        "type": "paragraph",
        "id": "3d3632b6fc71228a",
        "text": "select “file_id” in jnanam.item # this is the only data element we need to extract to build the URL for each media item"
      },
      "after": "6188e8e18ac8d906",
      "id": "3d3632b6fc71228a",
      "date": 1459940692059
    },
    {
      "type": "add",
      "item": {
        "type": "paragraph",
        "id": "8989ad7ecd2bcd03",
        "text": "So build-site-map.lc  would have a look up like this (see my generateReports.lc for models on how to do queries) :  "
      },
      "after": "3d3632b6fc71228a",
      "id": "8989ad7ecd2bcd03",
      "date": 1459940696720
    },
    {
      "type": "edit",
      "id": "3d3632b6fc71228a",
      "item": {
        "type": "paragraph",
        "id": "3d3632b6fc71228a",
        "text": "select “file_id” in jnanam.item # "
      },
      "date": 1459940777931
    },
    {
      "type": "add",
      "item": {
        "type": "factory",
        "id": "a2897a9fcbccb45b"
      },
      "after": "6188e8e18ac8d906",
      "id": "a2897a9fcbccb45b",
      "date": 1459940785952
    },
    {
      "type": "add",
      "id": "6fa19a16c374c8cb",
      "item": {
        "type": "paragraph",
        "id": "6fa19a16c374c8cb",
        "text": "this is the only data element we need to extract to build the URL for each media item"
      },
      "after": "3d3632b6fc71228a",
      "date": 1459940787277
    },
    {
      "type": "remove",
      "id": "3d3632b6fc71228a",
      "date": 1459940789066
    },
    {
      "type": "edit",
      "id": "a2897a9fcbccb45b",
      "item": {
        "type": "code",
        "id": "a2897a9fcbccb45b",
        "text": "select “file_id” in jnanam.item # "
      },
      "date": 1459940791564
    },
    {
      "type": "add",
      "item": {
        "type": "paragraph",
        "id": "fd39ec987053462e",
        "text": "\nyour query is simple--because we fetch almost the entire table-- we just skip anything that is Not Approved, which typically means it is a record for media still in production and not ready for distribution.\n\n# First get all media except the apps, which have different url\nrigDbSelect \"file_id\"\nrigDbWhere \"approved_for_public\", \"YES\"\nrigDBWhere “media_type” <> “app”\nput rigDbGet(\"item\") into tMediaPages\n\n# then use the results to generate the XML  nodes for all URLs\n\nhttp://www.himalayanacademy.com/view/##file_id##”\n\n#Next: get the apps \n\nrigDbSelect \"file_id\"\nrigDbWhere \"approved_for_public\", \"YES\"\nrigDBWhere “media_type” = “app”\nput rigDbGet(\"item\") into tMediaPages\n\n# then use the results to generate the XML  nodes for all URLs\n\nhttp://www.himalayanacademy.com/app/##file_id##”\n\nSee my GenerateReports.lc to see how to loop throught the results data  and output to another file: instead of outputing to an HTML chunk, you will create a little XML wrapper.\n\nNOTE: DO NOT USE THE “repeat with x = 1 to queryResults[\"numrows\"]”” method!\n\nThis is deprecated and I helped Rolf work out a new method using “for each”  you can find that in quotes report section:\n\nput 0 into tIncr\n    repeat for each key tKey in tQuotesList\n   \tadd 1 to tIncr\n[snip]\n\n2. HTML\nAll the pages we want to be crawled that are static HTML live here:\n\n/public_html/html\n\nThe method in this realm will involve a different function/handler which will be a directory walker. Fortunately the URL’s all follow the file hierarchy on disk. We did this deliberately to help us write code for this\n\n    folder-name # top level folder = controller name\n        index.html/xml  # if you find any “index.*” file then stop now and output to the site map:\n\nhttp://www.himalayanacademy.com/folder-name  # no slash required\n\n# dig recursively \n   Fold-name/\n      sub-folder-name\n           index.html/xml  # if you find any “index.*” file then stop now and output to the site map:\n\n\nhttp://www.himalayanacademy.com/folder-name/sub-folder-name  # no slash required\n\nIf you find:\n   Fold-name/\n      sub-folder-name\n           someOtherFileName.html  # if you find any “unique html file.*” file then stop now and output to the site map:\n\nhttp://www.himalayanacademy.com/folder-name/sub-folder-name/SomeOtherFileName  # no slash and no “.html” in the URL\n\n# ergo: content in /somefolder/subfolder/index.html/xml  and  content in /somefolder/ginger-soda.html\n\nall take the same URL form in the site map.\n\nhttp://www.himalayanacademy.com/somefolder/subfolder\nhttp://www.himalayanacademy.com/somefolder/ginger-soda\n\nEXCLUDES:\n\n# all files ending in *.backup, “.metadata”, \n# all files ending in *-sidebar.html”\n\n# skip all these folders:\n/html/img\n/html/captcha_check.php\n/html/manager # do not add anything here to the site map\n/html/admin  # skip this folder also\n/html/donations # do not add anything here in fact this folder will be deleted eventually.\n\nBR: Home is the default controller for the root site page: www.himalayanacademy.com \n(see /config/routes.lc) right not the page is empty because the WordPress 4.3.1 upgrade broke the server inside /blog/wp-includes/class-wp-xmlrpc-server.php # something changed and Andre wp.lc is failing. He’s working on it.\nYou will see an /html/home/index.xml file that is holds the data for the page. But for a site map, the path is just: “http://www.himalayanacademy.com”\n\n/html/info/*    # exclude all files except \n       contact.html\n       copyright.html\n       privacy.html\nIgnore (and others)\n/html/info/livecode-in-action\n/html/info/search\n\n3. BLOG = TAKA = “Today At Kauai Aadheenam”\n/public_html/blog  # this is an independent, PHP based, Wordpress installation, it calls the same CSS, so it appears transparent to the user, a seamless part of the same revIgniter site. we can even mix and match a little bit by doing PHP includes of /some-directory/some-library.lc  and use Livecode if needed here and there. \n\nWord Press has it’s own site map generator. I’m not sure if it is working. You will need to investigate. Possibly the main site map has a single entry for the blog site map as the very last entry? So google follows the main site map and then jumps over to index the blog? TBD"
      },
      "after": "8989ad7ecd2bcd03",
      "id": "fd39ec987053462e",
      "date": 1459940798430
    },
    {
      "type": "edit",
      "id": "fd39ec987053462e",
      "item": {
        "type": "paragraph",
        "id": "fd39ec987053462e",
        "text": "your query is simple--because we fetch almost the entire table-- we just skip anything that is Not Approved, which typically means it is a record for media still in production and not ready for distribution."
      },
      "date": 1459940811571
    },
    {
      "type": "add",
      "id": "6203745bb65d958d",
      "item": {
        "type": "paragraph",
        "id": "6203745bb65d958d",
        "text": "# First get all media except the apps, which have different url\nrigDbSelect \"file_id\"\nrigDbWhere \"approved_for_public\", \"YES\"\nrigDBWhere “media_type” <> “app”\nput rigDbGet(\"item\") into tMediaPages\n\n# then use the results to generate the XML  nodes for all URLs\n\nhttp://www.himalayanacademy.com/view/##file_id##”\n\n#Next: get the apps \n\nrigDbSelect \"file_id\"\nrigDbWhere \"approved_for_public\", \"YES\"\nrigDBWhere “media_type” = “app”\nput rigDbGet(\"item\") into tMediaPages\n\n# then use the results to generate the XML  nodes for all URLs\n\nhttp://www.himalayanacademy.com/app/##file_id##”\n\n"
      },
      "after": "fd39ec987053462e",
      "date": 1459940831123
    },
    {
      "type": "add",
      "id": "65e1582f6c5f02f2",
      "item": {
        "type": "paragraph",
        "id": "65e1582f6c5f02f2",
        "text": "See my GenerateReports.lc to see how to loop throught the results data  and output to another file: instead of outputing to an HTML chunk, you will create a little XML wrapper."
      },
      "after": "6203745bb65d958d",
      "date": 1459940833817
    },
    {
      "type": "add",
      "id": "bf0b43af98194643",
      "item": {
        "type": "paragraph",
        "id": "bf0b43af98194643",
        "text": "[[Note]]: DO NOT USE THE “repeat with x = 1 to queryResults[\"numrows\"]”” method!\n\nThis is deprecated and I helped Rolf work out a new method using “for each”  you can find that in quotes report section:\n\nput 0 into tIncr\n    repeat for each key tKey in tQuotesList\n   \tadd 1 to tIncr\n[snip]"
      },
      "after": "65e1582f6c5f02f2",
      "date": 1459940859091
    },
    {
      "type": "add",
      "id": "3640aee03b709b89",
      "item": {
        "type": "paragraph",
        "id": "3640aee03b709b89",
        "text": "\n2. HTML\nAll the pages we want to be crawled that are static HTML live here:\n\n/public_html/html\n\nThe method in this realm will involve a different function/handler which will be a directory walker. Fortunately the URL’s all follow the file hierarchy on disk. We did this deliberately to help us write code for this\n\n    folder-name # top level folder = controller name\n        index.html/xml  # if you find any “index.*” file then stop now and output to the site map:\n\nhttp://www.himalayanacademy.com/folder-name  # no slash required\n\n# dig recursively \n   Fold-name/\n      sub-folder-name\n           index.html/xml  # if you find any “index.*” file then stop now and output to the site map:\n\n\nhttp://www.himalayanacademy.com/folder-name/sub-folder-name  # no slash required\n\nIf you find:\n   Fold-name/\n      sub-folder-name\n           someOtherFileName.html  # if you find any “unique html file.*” file then stop now and output to the site map:\n\nhttp://www.himalayanacademy.com/folder-name/sub-folder-name/SomeOtherFileName  # no slash and no “.html” in the URL\n\n# ergo: content in /somefolder/subfolder/index.html/xml  and  content in /somefolder/ginger-soda.html\n\nall take the same URL form in the site map.\n\nhttp://www.himalayanacademy.com/somefolder/subfolder\nhttp://www.himalayanacademy.com/somefolder/ginger-soda\n\nEXCLUDES:\n\n# all files ending in *.backup, “.metadata”, \n# all files ending in *-sidebar.html”\n\n# skip all these folders:\n/html/img\n/html/captcha_check.php\n/html/manager # do not add anything here to the site map\n/html/admin  # skip this folder also\n/html/donations # do not add anything here in fact this folder will be deleted eventually.\n\nBR: Home is the default controller for the root site page: www.himalayanacademy.com \n(see /config/routes.lc) right not the page is empty because the WordPress 4.3.1 upgrade broke the server inside /blog/wp-includes/class-wp-xmlrpc-server.php # something changed and Andre wp.lc is failing. He’s working on it.\nYou will see an /html/home/index.xml file that is holds the data for the page. But for a site map, the path is just: “http://www.himalayanacademy.com”\n\n/html/info/*    # exclude all files except \n       contact.html\n       copyright.html\n       privacy.html\nIgnore (and others)\n/html/info/livecode-in-action\n/html/info/search\n\n3. BLOG = TAKA = “Today At Kauai Aadheenam”\n/public_html/blog  # this is an independent, PHP based, Wordpress installation, it calls the same CSS, so it appears transparent to the user, a seamless part of the same revIgniter site. we can even mix and match a little bit by doing PHP includes of /some-directory/some-library.lc  and use Livecode if needed here and there. \n\nWord Press has it’s own site map generator. I’m not sure if it is working. You will need to investigate. Possibly the main site map has a single entry for the blog site map as the very last entry? So google follows the main site map and then jumps over to index the blog? TBD"
      },
      "after": "bf0b43af98194643",
      "date": 1459940876344
    },
    {
      "type": "edit",
      "id": "6203745bb65d958d",
      "item": {
        "type": "paragraph",
        "id": "6203745bb65d958d",
        "text": "# First get all media except the apps, which have different url"
      },
      "date": 1459946990704
    },
    {
      "type": "add",
      "id": "2639a837e6d8a2f1",
      "item": {
        "type": "paragraph",
        "id": "2639a837e6d8a2f1",
        "text": "rigDbSelect \"file_id\"\nrigDbWhere \"approved_for_public\", \"YES\"\nrigDBWhere “media_type” <> “app”\nput rigDbGet(\"item\") into tMediaPages"
      },
      "after": "6203745bb65d958d",
      "date": 1459946992854
    },
    {
      "type": "add",
      "id": "279ea8feafcda3dc",
      "item": {
        "type": "paragraph",
        "id": "279ea8feafcda3dc",
        "text": "# then use the results to generate the XML  nodes for all URLs"
      },
      "after": "2639a837e6d8a2f1",
      "date": 1459946998695
    },
    {
      "type": "add",
      "id": "551e19113ec9bbe1",
      "item": {
        "type": "paragraph",
        "id": "551e19113ec9bbe1",
        "text": "\nhttp://www.himalayanacademy.com/view/##file_id##”\n\n"
      },
      "after": "279ea8feafcda3dc",
      "date": 1459947001456
    },
    {
      "type": "add",
      "id": "28c2d89c199018c1",
      "item": {
        "type": "paragraph",
        "id": "28c2d89c199018c1",
        "text": "#Next: get the apps "
      },
      "after": "551e19113ec9bbe1",
      "date": 1459947006207
    },
    {
      "type": "add",
      "id": "873683bb96b7dea5",
      "item": {
        "type": "paragraph",
        "id": "873683bb96b7dea5",
        "text": "rigDbSelect \"file_id\"\nrigDbWhere \"approved_for_public\", \"YES\"\nrigDBWhere “media_type” = “app”\nput rigDbGet(\"item\") into tMediaPages"
      },
      "after": "28c2d89c199018c1",
      "date": 1459947010295
    },
    {
      "type": "add",
      "id": "d525ee006edfbe9e",
      "item": {
        "type": "paragraph",
        "id": "d525ee006edfbe9e",
        "text": "# then use the results to generate the XML  nodes for all URLs"
      },
      "after": "873683bb96b7dea5",
      "date": 1459947014453
    },
    {
      "type": "add",
      "id": "335f63865f47c2b1",
      "item": {
        "type": "paragraph",
        "id": "335f63865f47c2b1",
        "text": "\nhttp://www.himalayanacademy.com/app/##file_id##”\n\n"
      },
      "after": "d525ee006edfbe9e",
      "date": 1459947017634
    },
    {
      "type": "add",
      "item": {
        "type": "factory",
        "id": "7f126eb8bd51da4a"
      },
      "after": "6203745bb65d958d",
      "id": "7f126eb8bd51da4a",
      "date": 1459947025323
    },
    {
      "type": "remove",
      "id": "2639a837e6d8a2f1",
      "date": 1459947029444
    },
    {
      "type": "edit",
      "id": "7f126eb8bd51da4a",
      "item": {
        "type": "code",
        "id": "7f126eb8bd51da4a",
        "text": "rigDbSelect \"file_id\"\nrigDbWhere \"approved_for_public\", \"YES\"\nrigDBWhere “media_type” <> “app”\nput rigDbGet(\"item\") into tMediaPages"
      },
      "date": 1459947031363
    },
    {
      "type": "edit",
      "id": "6203745bb65d958d",
      "item": {
        "type": "markdown",
        "id": "6203745bb65d958d",
        "text": "# First get all media except the apps, which have different url"
      },
      "date": 1459947042219
    },
    {
      "type": "edit",
      "id": "279ea8feafcda3dc",
      "item": {
        "type": "markdown",
        "id": "279ea8feafcda3dc",
        "text": "# then use the results to generate the XML  nodes for all URLs"
      },
      "date": 1459947044722
    },
    {
      "type": "add",
      "item": {
        "type": "factory",
        "id": "f1d7b5506fa9bfff"
      },
      "after": "279ea8feafcda3dc",
      "id": "f1d7b5506fa9bfff",
      "date": 1459947047561
    },
    {
      "type": "remove",
      "id": "551e19113ec9bbe1",
      "date": 1459947053677
    },
    {
      "type": "edit",
      "id": "f1d7b5506fa9bfff",
      "item": {
        "type": "code",
        "id": "f1d7b5506fa9bfff",
        "text": "http://www.himalayanacademy.com/view/##file_id##"
      },
      "date": 1459947060145
    },
    {
      "type": "edit",
      "id": "28c2d89c199018c1",
      "item": {
        "type": "paragraph",
        "id": "28c2d89c199018c1",
        "text": "# Next: get the apps "
      },
      "date": 1459947064865
    },
    {
      "type": "edit",
      "id": "28c2d89c199018c1",
      "item": {
        "type": "markdown",
        "id": "28c2d89c199018c1",
        "text": "# Next: get the apps "
      },
      "date": 1459947065811
    },
    {
      "type": "edit",
      "id": "d525ee006edfbe9e",
      "item": {
        "type": "markdown",
        "id": "d525ee006edfbe9e",
        "text": "# then use the results to generate the XML  nodes for all URLs"
      },
      "date": 1459947071878
    },
    {
      "type": "edit",
      "id": "3640aee03b709b89",
      "item": {
        "type": "paragraph",
        "id": "3640aee03b709b89",
        "text": "2. HTML\nAll the pages we want to be crawled that are static HTML live here:\n\n/public_html/html\n\nThe method in this realm will involve a different function/handler which will be a directory walker. Fortunately the URL’s all follow the file hierarchy on disk. We did this deliberately to help us write code for this\n\n    folder-name # top level folder = controller name\n        index.html/xml  # if you find any “index.*” file then stop now and output to the site map:\n\nhttp://www.himalayanacademy.com/folder-name  # no slash required\n\n# dig recursively \n   Fold-name/\n      sub-folder-name\n           index.html/xml  # if you find any “index.*” file then stop now and output to the site map:\n\n\nhttp://www.himalayanacademy.com/folder-name/sub-folder-name  # no slash required\n\nIf you find:\n   Fold-name/\n      sub-folder-name\n           someOtherFileName.html  # if you find any “unique html file.*” file then stop now and output to the site map:\n\nhttp://www.himalayanacademy.com/folder-name/sub-folder-name/SomeOtherFileName  # no slash and no “.html” in the URL\n\n# ergo: content in /somefolder/subfolder/index.html/xml  and  content in /somefolder/ginger-soda.html\n\nall take the same URL form in the site map.\n\nhttp://www.himalayanacademy.com/somefolder/subfolder\nhttp://www.himalayanacademy.com/somefolder/ginger-soda\n\n"
      },
      "date": 1459947086776
    },
    {
      "type": "add",
      "id": "0ddd514bf6c3e95d",
      "item": {
        "type": "paragraph",
        "id": "0ddd514bf6c3e95d",
        "text": "EXCLUDES:\n\n# all files ending in *.backup, “.metadata”, \n# all files ending in *-sidebar.html”\n\n# skip all these folders:\n/html/img\n/html/captcha_check.php\n/html/manager # do not add anything here to the site map\n/html/admin  # skip this folder also\n/html/donations # do not add anything here in fact this folder will be deleted eventually.\n\nBR: Home is the default controller for the root site page: www.himalayanacademy.com \n(see /config/routes.lc) right not the page is empty because the WordPress 4.3.1 upgrade broke the server inside /blog/wp-includes/class-wp-xmlrpc-server.php # something changed and Andre wp.lc is failing. He’s working on it.\nYou will see an /html/home/index.xml file that is holds the data for the page. But for a site map, the path is just: “http://www.himalayanacademy.com”\n\n/html/info/*    # exclude all files except \n       contact.html\n       copyright.html\n       privacy.html\nIgnore (and others)\n/html/info/livecode-in-action\n/html/info/search\n\n3. BLOG = TAKA = “Today At Kauai Aadheenam”\n/public_html/blog  # this is an independent, PHP based, Wordpress installation, it calls the same CSS, so it appears transparent to the user, a seamless part of the same revIgniter site. we can even mix and match a little bit by doing PHP includes of /some-directory/some-library.lc  and use Livecode if needed here and there. \n\nWord Press has it’s own site map generator. I’m not sure if it is working. You will need to investigate. Possibly the main site map has a single entry for the blog site map as the very last entry? So google follows the main site map and then jumps over to index the blog? TBD"
      },
      "after": "3640aee03b709b89",
      "date": 1459947089811
    },
    {
      "type": "add",
      "item": {
        "type": "factory",
        "id": "22124594f99ce7d2"
      },
      "after": "d525ee006edfbe9e",
      "id": "22124594f99ce7d2",
      "date": 1459947101389
    },
    {
      "type": "remove",
      "id": "335f63865f47c2b1",
      "date": 1459947104962
    },
    {
      "type": "edit",
      "id": "22124594f99ce7d2",
      "item": {
        "type": "code",
        "id": "22124594f99ce7d2",
        "text": "http://www.himalayanacademy.com/app/##file_id##”"
      },
      "date": 1459947108610
    },
    {
      "type": "edit",
      "id": "65e1582f6c5f02f2",
      "item": {
        "type": "paragraph",
        "id": "65e1582f6c5f02f2",
        "text": "See my [[GenerateReports.lc]] to see how to loop throught the results data  and output to another file: instead of outputing to an HTML chunk, you will create a little XML wrapper."
      },
      "date": 1459947118747
    },
    {
      "type": "edit",
      "id": "bf0b43af98194643",
      "item": {
        "type": "paragraph",
        "id": "bf0b43af98194643",
        "text": "[[Note]]: DO NOT USE THE “repeat with x = 1 to queryResults[\"numrows\"]”” method!\n\nThis is deprecated and I helped Rolf work out a new method using “for each”  you can find that in quotes report section:"
      },
      "date": 1459947130978
    },
    {
      "type": "add",
      "id": "1f31f0bd3eb60ab3",
      "item": {
        "type": "paragraph",
        "id": "1f31f0bd3eb60ab3",
        "text": "\nput 0 into tIncr\n    repeat for each key tKey in tQuotesList\n   \tadd 1 to tIncr\n[snip]"
      },
      "after": "bf0b43af98194643",
      "date": 1459947131602
    },
    {
      "type": "add",
      "item": {
        "type": "factory",
        "id": "3ecd83fa6899ae72"
      },
      "after": "bf0b43af98194643",
      "id": "3ecd83fa6899ae72",
      "date": 1459947134404
    },
    {
      "type": "remove",
      "id": "1f31f0bd3eb60ab3",
      "date": 1459947142019
    },
    {
      "type": "edit",
      "id": "3ecd83fa6899ae72",
      "item": {
        "type": "code",
        "id": "3ecd83fa6899ae72",
        "text": "put 0 into tIncr\n    repeat for each key tKey in tQuotesList\n   \tadd 1 to tIncr"
      },
      "date": 1459947144740
    },
    {
      "type": "edit",
      "id": "3640aee03b709b89",
      "item": {
        "type": "paragraph",
        "id": "3640aee03b709b89",
        "text": "# HTML"
      },
      "date": 1459947177101
    },
    {
      "type": "add",
      "id": "cffd860bc1ab3977",
      "item": {
        "type": "paragraph",
        "id": "cffd860bc1ab3977",
        "text": "All the pages we want to be crawled that are static HTML live here:"
      },
      "after": "3640aee03b709b89",
      "date": 1459947179716
    },
    {
      "type": "add",
      "id": "193df5d521524eb6",
      "item": {
        "type": "paragraph",
        "id": "193df5d521524eb6",
        "text": "\n/public_html/html\n\n"
      },
      "after": "cffd860bc1ab3977",
      "date": 1459947182492
    },
    {
      "type": "add",
      "id": "20c966e74af224d3",
      "item": {
        "type": "paragraph",
        "id": "20c966e74af224d3",
        "text": "The method in this realm will involve a different function/handler which will be a directory walker. Fortunately the URL’s all follow the file hierarchy on disk. We did this deliberately to help us write code for this:"
      },
      "after": "193df5d521524eb6",
      "date": 1459947186940
    },
    {
      "type": "add",
      "id": "89495c9e83c800c7",
      "item": {
        "type": "paragraph",
        "id": "89495c9e83c800c7",
        "text": "\n    folder-name # top level folder = controller name\n        index.html/xml  # if you find any “index.*” file then stop now and output to the site map:\n\nhttp://www.himalayanacademy.com/folder-name  # no slash required"
      },
      "after": "20c966e74af224d3",
      "date": 1459947195782
    },
    {
      "type": "add",
      "id": "7e4c148cc24b2d6e",
      "item": {
        "type": "paragraph",
        "id": "7e4c148cc24b2d6e",
        "text": "# dig recursively \n   Fold-name/\n      sub-folder-name\n           index.html/xml  # if you find any “index.*” file then stop now and output to the site map:"
      },
      "after": "89495c9e83c800c7",
      "date": 1459947202773
    },
    {
      "type": "add",
      "id": "2fb0ee595fe231d9",
      "item": {
        "type": "paragraph",
        "id": "2fb0ee595fe231d9",
        "text": "http://www.himalayanacademy.com/folder-name/sub-folder-name  # no slash required"
      },
      "after": "7e4c148cc24b2d6e",
      "date": 1459947212502
    },
    {
      "type": "add",
      "id": "6b1d60b075c29c32",
      "item": {
        "type": "paragraph",
        "id": "6b1d60b075c29c32",
        "text": "If you find:\n   Fold-name/\n      sub-folder-name\n           someOtherFileName.html  # if you find any “unique html file.*” file then stop now and output to the site map:"
      },
      "after": "2fb0ee595fe231d9",
      "date": 1459947221860
    },
    {
      "type": "add",
      "id": "9a7476e2408f83c7",
      "item": {
        "type": "paragraph",
        "id": "9a7476e2408f83c7",
        "text": "http://www.himalayanacademy.com/folder-name/sub-folder-name/SomeOtherFileName  # no slash and no “.html” in the URL"
      },
      "after": "6b1d60b075c29c32",
      "date": 1459947227839
    },
    {
      "type": "edit",
      "id": "3640aee03b709b89",
      "item": {
        "type": "markdown",
        "id": "3640aee03b709b89",
        "text": "# HTML"
      },
      "date": 1459947233940
    },
    {
      "type": "add",
      "item": {
        "type": "factory",
        "id": "f933bd09f1b2c37e"
      },
      "after": "cffd860bc1ab3977",
      "id": "f933bd09f1b2c37e",
      "date": 1459947267651
    },
    {
      "type": "add",
      "id": "b208db6e4eb35f51",
      "item": {
        "type": "paragraph",
        "id": "b208db6e4eb35f51",
        "text": "# ergo: content in /somefolder/subfolder/index.html/xml  and  content in /somefolder/ginger-soda.html\n\nall take the same URL form in the site map.\n\nhttp://www.himalayanacademy.com/somefolder/subfolder\nhttp://www.himalayanacademy.com/somefolder/ginger-soda\n\n"
      },
      "after": "9a7476e2408f83c7",
      "date": 1459947268883
    },
    {
      "type": "edit",
      "id": "193df5d521524eb6",
      "item": {
        "type": "paragraph",
        "id": "193df5d521524eb6",
        "text": "\n"
      },
      "date": 1459947272831
    },
    {
      "type": "edit",
      "id": "f933bd09f1b2c37e",
      "item": {
        "type": "code",
        "id": "f933bd09f1b2c37e",
        "text": "/public_html/html"
      },
      "date": 1459947275567
    },
    {
      "type": "add",
      "item": {
        "type": "factory",
        "id": "e7b2ef8655b30c19"
      },
      "after": "20c966e74af224d3",
      "id": "e7b2ef8655b30c19",
      "date": 1459947284539
    },
    {
      "type": "edit",
      "id": "89495c9e83c800c7",
      "item": {
        "type": "paragraph",
        "id": "89495c9e83c800c7",
        "text": "    folder-name # top level folder = controller name\n        index.html/xml  # if you find any “index.*” file then stop now and output to the site map:"
      },
      "date": 1459947303494
    },
    {
      "type": "add",
      "id": "090221dcfaac72a1",
      "item": {
        "type": "paragraph",
        "id": "090221dcfaac72a1",
        "text": "\nhttp://www.himalayanacademy.com/folder-name  # no slash required"
      },
      "after": "89495c9e83c800c7",
      "date": 1459947305118
    },
    {
      "type": "remove",
      "id": "89495c9e83c800c7",
      "date": 1459947308048
    },
    {
      "type": "edit",
      "id": "e7b2ef8655b30c19",
      "item": {
        "type": "code",
        "id": "e7b2ef8655b30c19",
        "text": "    folder-name # top level folder = controller name\n        index.html/xml  # if you find any “index.*” file then stop now and output to the site map:"
      },
      "date": 1459947309506
    },
    {
      "type": "add",
      "item": {
        "type": "factory",
        "id": "b3535a8a235966b9"
      },
      "after": "e7b2ef8655b30c19",
      "id": "b3535a8a235966b9",
      "date": 1459947327833
    },
    {
      "type": "remove",
      "id": "090221dcfaac72a1",
      "date": 1459947331239
    },
    {
      "type": "edit",
      "id": "b3535a8a235966b9",
      "item": {
        "type": "code",
        "id": "b3535a8a235966b9",
        "text": "http://www.himalayanacademy.com/folder-name  # no slash required"
      },
      "date": 1459947333682
    },
    {
      "type": "edit",
      "id": "b3535a8a235966b9",
      "item": {
        "type": "code",
        "id": "b3535a8a235966b9",
        "text": "# no slash requiredhttp://www.himalayanacademy.com/folder-name"
      },
      "date": 1459947350562
    },
    {
      "type": "edit",
      "id": "7e4c148cc24b2d6e",
      "item": {
        "type": "paragraph",
        "id": "7e4c148cc24b2d6e",
        "text": "# dig recursively "
      },
      "date": 1459947371385
    },
    {
      "type": "edit",
      "id": "7e4c148cc24b2d6e",
      "item": {
        "type": "markdown",
        "id": "7e4c148cc24b2d6e",
        "text": "# dig recursively "
      },
      "date": 1459947372873
    },
    {
      "type": "add",
      "item": {
        "type": "factory",
        "id": "6939546ebb1253bb"
      },
      "after": "d760750e037a3622",
      "id": "6939546ebb1253bb",
      "date": 1459947380298
    },
    {
      "type": "edit",
      "id": "6939546ebb1253bb",
      "item": {
        "type": "code",
        "id": "6939546ebb1253bb",
        "text": "   Fold-name/\n      sub-folder-name\n           index.html/xml  # if you find any “index.*” file then stop now and output to the site map:"
      },
      "date": 1459947385364
    },
    {
      "type": "add",
      "item": {
        "type": "factory",
        "id": "c2f508158fe3d641"
      },
      "after": "6939546ebb1253bb",
      "id": "c2f508158fe3d641",
      "date": 1459947392380
    },
    {
      "type": "edit",
      "id": "2fb0ee595fe231d9",
      "item": {
        "type": "paragraph",
        "id": "2fb0ee595fe231d9",
        "text": "# no slash requiredhttp://www.himalayanacademy.com/folder-name/sub-folder-name"
      },
      "date": 1459947403082
    },
    {
      "type": "add",
      "item": {
        "type": "factory",
        "id": "9bf6e49dd1ccee23"
      },
      "after": "c2f508158fe3d641",
      "id": "9bf6e49dd1ccee23",
      "date": 1459947408819
    },
    {
      "type": "remove",
      "id": "2fb0ee595fe231d9",
      "date": 1459947411833
    },
    {
      "type": "edit",
      "id": "c2f508158fe3d641",
      "item": {
        "type": "code",
        "id": "c2f508158fe3d641",
        "text": "# no slash requiredhttp://www.himalayanacademy.com/folder-name/sub-folder-name"
      },
      "date": 1459947414899
    },
    {
      "type": "move",
      "order": [
        "09397164351d77f8",
        "d4e3812c135b3d66",
        "4094c8ea4654aa7d",
        "0ac711c4fdaa00ca",
        "d65adfbf888f9ca3",
        "a21a3f77232b3939",
        "9132cbc6e94e3dac",
        "b7957d7739c322f7",
        "43a949ef42ea5d94",
        "672c5e5fc61a7040",
        "decc078114603510",
        "97f6acb35ab5270e",
        "1df7248885e1e02f",
        "6188e8e18ac8d906",
        "a2897a9fcbccb45b",
        "6fa19a16c374c8cb",
        "8989ad7ecd2bcd03",
        "fd39ec987053462e",
        "6203745bb65d958d",
        "7f126eb8bd51da4a",
        "279ea8feafcda3dc",
        "f1d7b5506fa9bfff",
        "28c2d89c199018c1",
        "873683bb96b7dea5",
        "d525ee006edfbe9e",
        "22124594f99ce7d2",
        "65e1582f6c5f02f2",
        "bf0b43af98194643",
        "3ecd83fa6899ae72",
        "3640aee03b709b89",
        "cffd860bc1ab3977",
        "f933bd09f1b2c37e",
        "193df5d521524eb6",
        "20c966e74af224d3",
        "e7b2ef8655b30c19",
        "b3535a8a235966b9",
        "7e4c148cc24b2d6e",
        "6939546ebb1253bb",
        "c2f508158fe3d641",
        "6b1d60b075c29c32",
        "9a7476e2408f83c7",
        "9bf6e49dd1ccee23",
        "b208db6e4eb35f51",
        "0ddd514bf6c3e95d",
        "4efc5b59462d09fc",
        "52eef75a1b8e3c55"
      ],
      "id": "9bf6e49dd1ccee23",
      "date": 1459947420295
    },
    {
      "type": "remove",
      "id": "9a7476e2408f83c7",
      "date": 1459947425171
    },
    {
      "type": "edit",
      "id": "9bf6e49dd1ccee23",
      "item": {
        "type": "code",
        "id": "9bf6e49dd1ccee23",
        "text": "http://www.himalayanacademy.com/folder-name/sub-folder-name/SomeOtherFileName  # no slash and no “.html” in the URL"
      },
      "date": 1459947427941
    },
    {
      "type": "add",
      "item": {
        "type": "factory",
        "id": "9833f3fea78269c9"
      },
      "after": "b208db6e4eb35f51",
      "id": "9833f3fea78269c9",
      "date": 1459947437394
    },
    {
      "type": "edit",
      "id": "b208db6e4eb35f51",
      "item": {
        "type": "paragraph",
        "id": "b208db6e4eb35f51",
        "text": "# ergo: content in /somefolder/subfolder/index.html/xml  and  content in /somefolder/ginger-soda.html\n\nall take the same URL form in the site map.\n"
      },
      "date": 1459947449468
    },
    {
      "type": "edit",
      "id": "9833f3fea78269c9",
      "item": {
        "type": "code",
        "id": "9833f3fea78269c9",
        "text": "http://www.himalayanacademy.com/somefolder/subfolder\nhttp://www.himalayanacademy.com/somefolder/ginger-soda\n"
      },
      "date": 1459947455350
    },
    {
      "type": "edit",
      "id": "0ddd514bf6c3e95d",
      "item": {
        "type": "markdown",
        "id": "0ddd514bf6c3e95d",
        "text": "EXCLUDES:\n\n# all files ending in *.backup, “.metadata”, \n# all files ending in *-sidebar.html”\n\n# skip all these folders:\n/html/img\n/html/captcha_check.php\n/html/manager # do not add anything here to the site map\n/html/admin  # skip this folder also\n/html/donations # do not add anything here in fact this folder will be deleted eventually.\n\nBR: Home is the default controller for the root site page: www.himalayanacademy.com \n(see /config/routes.lc) right not the page is empty because the WordPress 4.3.1 upgrade broke the server inside /blog/wp-includes/class-wp-xmlrpc-server.php # something changed and Andre wp.lc is failing. He’s working on it.\nYou will see an /html/home/index.xml file that is holds the data for the page. But for a site map, the path is just: “http://www.himalayanacademy.com”\n\n/html/info/*    # exclude all files except \n       contact.html\n       copyright.html\n       privacy.html\nIgnore (and others)\n/html/info/livecode-in-action\n/html/info/search\n\n3. BLOG = TAKA = “Today At Kauai Aadheenam”\n/public_html/blog  # this is an independent, PHP based, Wordpress installation, it calls the same CSS, so it appears transparent to the user, a seamless part of the same revIgniter site. we can even mix and match a little bit by doing PHP includes of /some-directory/some-library.lc  and use Livecode if needed here and there. \n\nWord Press has it’s own site map generator. I’m not sure if it is working. You will need to investigate. Possibly the main site map has a single entry for the blog site map as the very last entry? So google follows the main site map and then jumps over to index the blog? TBD"
      },
      "date": 1459947462129
    },
    {
      "type": "add",
      "item": {
        "type": "factory",
        "id": "5f6d7b2dc5546a94"
      },
      "after": "9833f3fea78269c9",
      "id": "5f6d7b2dc5546a94",
      "date": 1459947482235
    },
    {
      "type": "remove",
      "id": "0ddd514bf6c3e95d",
      "date": 1459947490212
    },
    {
      "type": "edit",
      "id": "5f6d7b2dc5546a94",
      "item": {
        "type": "paragraph",
        "id": "5f6d7b2dc5546a94",
        "text": "# EXCLUDES:"
      },
      "date": 1459947498413
    },
    {
      "type": "add",
      "id": "2f1812714a3c60a9",
      "item": {
        "type": "paragraph",
        "id": "2f1812714a3c60a9",
        "text": "# all files ending in *.backup, “.metadata”, \n# all files ending in *-sidebar.html”\n\n# skip all these folders:\n/html/img\n/html/captcha_check.php\n/html/manager # do not add anything here to the site map\n/html/admin  # skip this folder also\n/html/donations # do not add anything here in fact this folder will be deleted eventually."
      },
      "after": "5f6d7b2dc5546a94",
      "date": 1459947507148
    },
    {
      "type": "add",
      "id": "1747a57f87760530",
      "item": {
        "type": "paragraph",
        "id": "1747a57f87760530",
        "text": "BR: Home is the default controller for the root site page: www.himalayanacademy.com \n(see /config/routes.lc) right not the page is empty because the WordPress 4.3.1 upgrade broke the server inside /blog/wp-includes/class-wp-xmlrpc-server.php # something changed and Andre wp.lc is failing. He’s working on it."
      },
      "after": "2f1812714a3c60a9",
      "date": 1459947513621
    },
    {
      "type": "add",
      "id": "4213f7e2d9d74c54",
      "item": {
        "type": "paragraph",
        "id": "4213f7e2d9d74c54",
        "text": "You will see an /html/home/index.xml file that is holds the data for the page. But for a site map, the path is just: “http://www.himalayanacademy.com”"
      },
      "after": "1747a57f87760530",
      "date": 1459947515910
    },
    {
      "type": "add",
      "id": "750a17358ee469c2",
      "item": {
        "type": "paragraph",
        "id": "750a17358ee469c2",
        "text": "\n/html/info/*    # exclude all files except \n       contact.html\n       copyright.html\n       privacy.html\nIgnore (and others)\n/html/info/livecode-in-action\n/html/info/search"
      },
      "after": "4213f7e2d9d74c54",
      "date": 1459947519798
    },
    {
      "type": "add",
      "id": "076b24803bb7ab07",
      "item": {
        "type": "paragraph",
        "id": "076b24803bb7ab07",
        "text": "\n# BLOG = TAKA"
      },
      "after": "750a17358ee469c2",
      "date": 1459947529239
    },
    {
      "type": "add",
      "id": "71e3c85a13207534",
      "item": {
        "type": "paragraph",
        "id": "71e3c85a13207534",
        "text": " = “Today At Kauai Aadheenam”\n/public_html/blog  # this is an independent, PHP based, Wordpress installation, it calls the same CSS, so it appears transparent to the user, a seamless part of the same revIgniter site. we can even mix and match a little bit by doing PHP includes of /some-directory/some-library.lc  and use Livecode if needed here and there. "
      },
      "after": "076b24803bb7ab07",
      "date": 1459947532950
    },
    {
      "type": "add",
      "id": "6ec5187098dcc93b",
      "item": {
        "type": "paragraph",
        "id": "6ec5187098dcc93b",
        "text": "Word Press has it’s own site map generator. I’m not sure if it is working. You will need to investigate. Possibly the main site map has a single entry for the blog site map as the very last entry? So google follows the main site map and then jumps over to index the blog? TBD"
      },
      "after": "71e3c85a13207534",
      "date": 1459947538375
    },
    {
      "type": "edit",
      "id": "076b24803bb7ab07",
      "item": {
        "type": "paragraph",
        "id": "076b24803bb7ab07",
        "text": "# [[TAKA BLOG]]"
      },
      "date": 1459947557351
    },
    {
      "type": "remove",
      "id": "71e3c85a13207534",
      "date": 1459947564757
    },
    {
      "type": "remove",
      "id": "6ec5187098dcc93b",
      "date": 1459947566230
    },
    {
      "type": "add",
      "item": {
        "type": "factory",
        "id": "34c4e3f9ce33e511"
      },
      "after": "750a17358ee469c2",
      "id": "34c4e3f9ce33e511",
      "date": 1459947611237
    },
    {
      "type": "edit",
      "id": "34c4e3f9ce33e511",
      "item": {
        "type": "reference",
        "id": "34c4e3f9ce33e511",
        "site": "dev.himalayan.academy",
        "slug": "taka-blog",
        "title": "TAKA BLOG",
        "text": "This is an independent, PHP based, Wordpress installation, it calls the same CSS, so it appears transparent to the user, a seamless part of the same revIgniter site. we can even mix and match a little bit by doing PHP includes of /some-directory/some-library.lc  and use Livecode if needed here and there. "
      },
      "date": 1459947639227
    },
    {
      "type": "remove",
      "id": "076b24803bb7ab07",
      "date": 1459947642689
    },
    {
      "type": "edit",
      "id": "5f6d7b2dc5546a94",
      "item": {
        "type": "markdown",
        "id": "5f6d7b2dc5546a94",
        "text": "# EXCLUDES:"
      },
      "date": 1459947674523
    },
    {
      "type": "add",
      "item": {
        "type": "factory",
        "id": "71c1c9c6cdbf9cfb"
      },
      "after": "5f6d7b2dc5546a94",
      "id": "71c1c9c6cdbf9cfb",
      "date": 1459947683741
    },
    {
      "type": "remove",
      "id": "2f1812714a3c60a9",
      "date": 1459947689770
    },
    {
      "type": "edit",
      "id": "71c1c9c6cdbf9cfb",
      "item": {
        "type": "code",
        "id": "71c1c9c6cdbf9cfb",
        "text": "# all files ending in *.backup, “.metadata”, \n# all files ending in *-sidebar.html”\n\n# skip all these folders:\n/html/img\n/html/captcha_check.php\n/html/manager # do not add anything here to the site map\n/html/admin  # skip this folder also\n/html/donations # do not add anything here in fact this folder will be deleted eventually."
      },
      "date": 1459947692141
    },
    {
      "type": "add",
      "item": {
        "type": "factory",
        "id": "e4da97e4b92b9fcd"
      },
      "after": "4213f7e2d9d74c54",
      "id": "e4da97e4b92b9fcd",
      "date": 1459947732339
    },
    {
      "type": "remove",
      "id": "750a17358ee469c2",
      "date": 1459947735883
    },
    {
      "type": "edit",
      "id": "e4da97e4b92b9fcd",
      "item": {
        "type": "code",
        "id": "e4da97e4b92b9fcd",
        "text": "/html/info/*    # exclude all files except \n       contact.html\n       copyright.html\n       privacy.html\nIgnore (and others)\n/html/info/livecode-in-action\n/html/info/search"
      },
      "date": 1459947738221
    },
    {
      "type": "edit",
      "id": "4213f7e2d9d74c54",
      "item": {
        "type": "paragraph",
        "id": "4213f7e2d9d74c54",
        "text": "You will see an:"
      },
      "date": 1459947750436
    },
    {
      "type": "edit",
      "id": "4213f7e2d9d74c54",
      "item": {
        "type": "paragraph",
        "id": "4213f7e2d9d74c54",
        "text": "You will see an [[html/home/index.xml]] file that is holds the data for the page. But for a site map, the path is just: “http://www.himalayanacademy.com”"
      },
      "date": 1459947774861
    },
    {
      "type": "edit",
      "id": "3640aee03b709b89",
      "item": {
        "type": "markdown",
        "id": "3640aee03b709b89",
        "text": "# [[HTML Pages]]"
      },
      "date": 1459947794447
    },
    {
      "type": "add",
      "item": {
        "type": "factory",
        "id": "9da4c988f1a80cf7"
      },
      "after": "3ecd83fa6899ae72",
      "id": "9da4c988f1a80cf7",
      "date": 1459947913429
    },
    {
      "type": "edit",
      "id": "9da4c988f1a80cf7",
      "item": {
        "type": "reference",
        "id": "9da4c988f1a80cf7",
        "site": "dev.himalayan.academy",
        "slug": "html-pages",
        "title": "HTML Pages",
        "text": "The [[Himalayan Academy Web Site]] contains a small number of simple HTML Pages. Here we describe their structure in relation to coding of the  [[html-sitemap.xml]] sitemap."
      },
      "date": 1459947915334
    },
    {
      "type": "remove",
      "id": "3640aee03b709b89",
      "date": 1459947918049
    },
    {
      "type": "remove",
      "id": "cffd860bc1ab3977",
      "date": 1459947922973
    },
    {
      "type": "remove",
      "id": "f933bd09f1b2c37e",
      "date": 1459947926271
    },
    {
      "type": "remove",
      "id": "20c966e74af224d3",
      "date": 1459947930122
    },
    {
      "type": "remove",
      "id": "e7b2ef8655b30c19",
      "date": 1459947937533
    },
    {
      "type": "remove",
      "id": "b3535a8a235966b9",
      "date": 1459947941772
    },
    {
      "type": "remove",
      "id": "7e4c148cc24b2d6e",
      "date": 1459947946058
    },
    {
      "type": "remove",
      "id": "6939546ebb1253bb",
      "date": 1459947956661
    },
    {
      "type": "remove",
      "id": "c2f508158fe3d641",
      "date": 1459947962111
    },
    {
      "type": "remove",
      "id": "6b1d60b075c29c32",
      "date": 1459947964566
    },
    {
      "type": "remove",
      "id": "9bf6e49dd1ccee23",
      "date": 1459947968740
    },
    {
      "type": "remove",
      "id": "b208db6e4eb35f51",
      "date": 1459947971749
    },
    {
      "type": "remove",
      "id": "9833f3fea78269c9",
      "date": 1459947976049
    },
    {
      "type": "remove",
      "id": "5f6d7b2dc5546a94",
      "date": 1459947981603
    },
    {
      "type": "remove",
      "id": "71c1c9c6cdbf9cfb",
      "date": 1459947996789
    },
    {
      "type": "remove",
      "id": "1747a57f87760530",
      "date": 1459948003668
    },
    {
      "type": "remove",
      "id": "4213f7e2d9d74c54",
      "date": 1459948007050
    },
    {
      "type": "remove",
      "id": "e4da97e4b92b9fcd",
      "date": 1459948012533
    },
    {
      "type": "edit",
      "id": "97f6acb35ab5270e",
      "item": {
        "type": "markdown",
        "id": "97f6acb35ab5270e",
        "text": "# [[Media Pages]]"
      },
      "date": 1459948063535
    },
    {
      "type": "remove",
      "id": "1df7248885e1e02f",
      "date": 1459948074352
    },
    {
      "type": "add",
      "item": {
        "type": "factory",
        "id": "040587bd29c913c9"
      },
      "after": "97f6acb35ab5270e",
      "id": "040587bd29c913c9",
      "date": 1459948076908
    },
    {
      "type": "edit",
      "id": "040587bd29c913c9",
      "item": {
        "type": "reference",
        "id": "040587bd29c913c9",
        "site": "dev.himalayan.academy",
        "slug": "media-pages",
        "title": "Media Pages",
        "text": "A media pages are dynamically generated from the data base using different models depending on the media type which then push the content out through views, which are also unique to each media type. "
      },
      "date": 1459948080121
    },
    {
      "type": "move",
      "order": [
        "09397164351d77f8",
        "d4e3812c135b3d66",
        "4094c8ea4654aa7d",
        "0ac711c4fdaa00ca",
        "d65adfbf888f9ca3",
        "a21a3f77232b3939",
        "9132cbc6e94e3dac",
        "b7957d7739c322f7",
        "43a949ef42ea5d94",
        "672c5e5fc61a7040",
        "decc078114603510",
        "040587bd29c913c9",
        "97f6acb35ab5270e",
        "6188e8e18ac8d906",
        "a2897a9fcbccb45b",
        "6fa19a16c374c8cb",
        "8989ad7ecd2bcd03",
        "fd39ec987053462e",
        "6203745bb65d958d",
        "7f126eb8bd51da4a",
        "279ea8feafcda3dc",
        "f1d7b5506fa9bfff",
        "28c2d89c199018c1",
        "873683bb96b7dea5",
        "d525ee006edfbe9e",
        "22124594f99ce7d2",
        "65e1582f6c5f02f2",
        "bf0b43af98194643",
        "3ecd83fa6899ae72",
        "9da4c988f1a80cf7",
        "193df5d521524eb6",
        "34c4e3f9ce33e511",
        "4efc5b59462d09fc",
        "52eef75a1b8e3c55"
      ],
      "id": "97f6acb35ab5270e",
      "date": 1459948083428
    },
    {
      "type": "remove",
      "id": "6188e8e18ac8d906",
      "date": 1459948088928
    },
    {
      "type": "remove",
      "id": "a2897a9fcbccb45b",
      "date": 1459948091883
    },
    {
      "type": "remove",
      "id": "6fa19a16c374c8cb",
      "date": 1459948094680
    },
    {
      "type": "remove",
      "id": "8989ad7ecd2bcd03",
      "date": 1459948097028
    },
    {
      "type": "remove",
      "id": "fd39ec987053462e",
      "date": 1459948099350
    },
    {
      "type": "remove",
      "id": "7f126eb8bd51da4a",
      "date": 1459948102336
    },
    {
      "type": "remove",
      "id": "6203745bb65d958d",
      "date": 1459948114902
    },
    {
      "type": "remove",
      "id": "279ea8feafcda3dc",
      "date": 1459948117841
    },
    {
      "type": "remove",
      "id": "f1d7b5506fa9bfff",
      "date": 1459948121420
    },
    {
      "type": "remove",
      "id": "28c2d89c199018c1",
      "date": 1459948125828
    },
    {
      "type": "remove",
      "id": "873683bb96b7dea5",
      "date": 1459948129648
    },
    {
      "type": "remove",
      "id": "d525ee006edfbe9e",
      "date": 1459948134321
    },
    {
      "type": "remove",
      "id": "22124594f99ce7d2",
      "date": 1459948148560
    },
    {
      "type": "remove",
      "id": "65e1582f6c5f02f2",
      "date": 1459948151751
    },
    {
      "type": "remove",
      "id": "bf0b43af98194643",
      "date": 1459948160654
    },
    {
      "type": "remove",
      "id": "3ecd83fa6899ae72",
      "date": 1459948170549
    },
    {
      "type": "remove",
      "id": "97f6acb35ab5270e",
      "date": 1459948176752
    },
    {
      "type": "edit",
      "id": "09397164351d77f8",
      "item": {
        "type": "paragraph",
        "id": "09397164351d77f8",
        "text": "Himalayan Academy sitemaps are automatically generated by a script, which takes the different elements, media types, and sections of the various [[Himalayan Academy Web Site]], and creates separate but linked [[sitemaps]] for each component."
      },
      "date": 1459972993370
    },
    {
      "type": "add",
      "item": {
        "type": "reference",
        "id": "98b1722d8a4c39a2",
        "site": "dev.himalayan.academy",
        "slug": "taka-blog",
        "title": "TAKA BLOG",
        "text": "This is an independent, PHP based, Wordpress installation, it calls the same CSS, so it appears transparent to the user, a seamless part of the same revIgniter site. we can even mix and match a little bit by doing PHP includes of /some-directory/some-library.lc  and use Livecode if needed here and there. "
      },
      "after": "0ac711c4fdaa00ca",
      "id": "98b1722d8a4c39a2",
      "date": 1459973018582
    },
    {
      "type": "add",
      "item": {
        "type": "reference",
        "id": "244a0c0295ce56e8",
        "site": "dev.himalayan.academy",
        "slug": "html-pages",
        "title": "HTML Pages",
        "text": "The [[Himalayan Academy Web Site]] contains a small number of simple HTML Pages. Here we describe their structure in relation to coding of the  [[html-sitemap.xml]] sitemap."
      },
      "after": "0ac711c4fdaa00ca",
      "id": "244a0c0295ce56e8",
      "date": 1459973021109
    },
    {
      "type": "add",
      "item": {
        "type": "reference",
        "id": "3339d3aa6eeaa503",
        "site": "dev.himalayan.academy",
        "slug": "media-pages",
        "title": "Media Pages",
        "text": "A media pages are dynamically generated from the data base using different models depending on the media type which then push the content out through views, which are also unique to each media type."
      },
      "after": "0ac711c4fdaa00ca",
      "id": "3339d3aa6eeaa503",
      "date": 1459973024036
    },
    {
      "type": "remove",
      "id": "0ac711c4fdaa00ca",
      "date": 1459973048163
    },
    {
      "type": "add",
      "id": "d92ac1f5db1b8a32",
      "item": {
        "type": "paragraph",
        "id": "d92ac1f5db1b8a32",
        "text": "The [[sitemap will]] need to generate the URL’s for Google to crawl, in three areas:"
      },
      "after": "d4e3812c135b3d66",
      "date": 1459973066069
    },
    {
      "type": "edit",
      "id": "d92ac1f5db1b8a32",
      "item": {
        "type": "paragraph",
        "id": "d92ac1f5db1b8a32",
        "text": "The [[sitemap]] will need to generate the URL’s for Google to crawl, in three areas:"
      },
      "date": 1459973073228
    },
    {
      "type": "move",
      "order": [
        "09397164351d77f8",
        "d4e3812c135b3d66",
        "4094c8ea4654aa7d",
        "d92ac1f5db1b8a32",
        "3339d3aa6eeaa503",
        "244a0c0295ce56e8",
        "98b1722d8a4c39a2",
        "d65adfbf888f9ca3",
        "a21a3f77232b3939",
        "9132cbc6e94e3dac",
        "b7957d7739c322f7",
        "43a949ef42ea5d94",
        "672c5e5fc61a7040",
        "decc078114603510",
        "040587bd29c913c9",
        "9da4c988f1a80cf7",
        "193df5d521524eb6",
        "34c4e3f9ce33e511",
        "4efc5b59462d09fc",
        "52eef75a1b8e3c55"
      ],
      "id": "d92ac1f5db1b8a32",
      "date": 1459973077748
    },
    {
      "type": "remove",
      "id": "040587bd29c913c9",
      "date": 1459973094125
    },
    {
      "type": "remove",
      "id": "9da4c988f1a80cf7",
      "date": 1459973096981
    },
    {
      "type": "remove",
      "id": "34c4e3f9ce33e511",
      "date": 1459973099292
    },
    {
      "type": "edit",
      "id": "d65adfbf888f9ca3",
      "item": {
        "type": "markdown",
        "id": "d65adfbf888f9ca3",
        "text": "# Sitemap Creation"
      },
      "date": 1459973119558
    },
    {
      "type": "edit",
      "id": "4094c8ea4654aa7d",
      "item": {
        "type": "markdown",
        "id": "4094c8ea4654aa7d",
        "text": "# Description"
      },
      "date": 1459973134407
    },
    {
      "type": "edit",
      "id": "d4e3812c135b3d66",
      "item": {
        "type": "paragraph",
        "id": "d4e3812c135b3d66",
        "text": "The root sitemap is [[sitemap.xml]] which is an [[sitemap index]] pointing to the individual sitemaps that the script creates."
      },
      "date": 1459973168583
    },
    {
      "type": "edit",
      "id": "d4e3812c135b3d66",
      "item": {
        "type": "paragraph",
        "id": "d4e3812c135b3d66",
        "text": "The root sitemap is [[sitemap.xml]] which is a [[Sitemap Index]] pointing to the individual sitemaps that the script creates."
      },
      "date": 1459973255722
    },
    {
      "type": "edit",
      "id": "d4e3812c135b3d66",
      "item": {
        "type": "paragraph",
        "id": "d4e3812c135b3d66",
        "text": "The root sitemap is [[sitemap.xml]] which is a [[Sitemaps Index]] pointing to the individual sitemaps that the script creates."
      },
      "date": 1459973295363
    },
    {
      "type": "fork",
      "site": "dev.himalayan.academy",
      "date": 1463311579433
    }
  ]
}