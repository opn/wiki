{
  "title": "Neo4J",
  "story": [
    {
      "type": "paragraph",
      "id": "afc8faf5bf99c607",
      "text": "Neo4j is an open-source graph database implemented in Java and accessible from software written in other languages using the Cypher query language through a transactional HTTP endpoint. [https://en.wikipedia.org/wiki/Neo4j wikipedia] [http://neo4j.com/ site]"
    },
    {
      "type": "paragraph",
      "id": "0d4cc80cedf557cf",
      "text": "See [[Neo4J Resources]]"
    },
    {
      "type": "paragraph",
      "id": "377dce49dd0f2f1a",
      "text": "How To Install Neo4J on an Ubuntu VPS.  [https://www.digitalocean.com/community/tutorials/how-to-install-neo4j-on-an-ubuntu-vps post]"
    },
    {
      "type": "paragraph",
      "id": "b3ccef17e6e5ecbc",
      "text": "I've sought the kind assistance of work colleague, Erika Arnold, author of wikiGraph, a shortest-path visualizing application for Wikipedia based on Neo4J. [http://www.erikaarnold.com/#/wikigraph/ page]"
    },
    {
      "type": "paragraph",
      "id": "4ab05bd79071d356",
      "text": "Here I follow her approach. "
    },
    {
      "type": "markdown",
      "id": "afc3b4fc581e74e8",
      "text": "# Load"
    },
    {
      "type": "paragraph",
      "id": "8c6952c6342e9f22",
      "text": "Built a test database and imported it with the import command. [http://neo4j.com/docs/stable/import-tool-examples.html docs] [http://search.fed.wiki.org:3030/nodes.csv nodes.csv] [http://search.fed.wiki.org:3030/rels.csv rels.csv]"
    },
    {
      "type": "code",
      "id": "ae4067729aedf28b",
      "text": "neo4j-import \\\n  --into wiki.db \\\n  --nodes nodes.csv \\\n  --relationships rels.csv"
    },
    {
      "type": "paragraph",
      "id": "3f4246b7092264d5",
      "text": "Find where  neo4j resources have been installed."
    },
    {
      "type": "code",
      "id": "8954f7a4831598aa",
      "text": "locate neo4j"
    },
    {
      "type": "paragraph",
      "id": "06ca86a36806e252",
      "text": "Move the constructed db to the server's realm."
    },
    {
      "type": "code",
      "id": "90fce726ebc6a8aa",
      "text": "cd /var/lib/neo4j/data\nsudo mv ~/neo-wiki/wiki.db .\nchmod -R a+w wiki.db"
    },
    {
      "type": "paragraph",
      "id": "9a2baf187dcbab06",
      "text": "Edit the config and restarted the server."
    },
    {
      "type": "code",
      "id": "0f800d3bf753ce02",
      "text": "cd /var/lib/neo4j/conf\nsudo vi neo4j-server.properties\nsudo service neo4j-service restart"
    },
    {
      "type": "paragraph",
      "id": "b8d95ef363adeb8c",
      "text": "Open an ssh tunnel to the remote server."
    },
    {
      "type": "code",
      "id": "fac43d944be3212a",
      "text": "ssh -L 7474:localhost:7474 bay.wiki.org"
    },
    {
      "type": "paragraph",
      "id": "fb60a519f46484a1",
      "text": "Then view the graph using the builtin app. [http://localhost:7474 localhost]"
    },
    {
      "type": "markdown",
      "id": "7f5bb86358d2cd25",
      "text": "# Query"
    },
    {
      "type": "paragraph",
      "id": "4e20e455cbf83ff1",
      "text": "It's hard to know what to look for until you have a real need and some experience formulating queries. I read docs and tried things. Some impressed me enough to save the svg."
    },
    {
      "type": "paragraph",
      "id": "537d1aec4c16304d",
      "text": "For fast queries find a good place to start and then traverse from there. I picked .org sites and looked for links to titles about Education. [http://c2.com/wiki/neo4j/education.svg svg]"
    },
    {
      "type": "code",
      "id": "16802dc2b5b935b5",
      "text": "match (s:Site)-[HAS]->(p:Page)-[LINK]->(t:Title)\nwhere s.title =~ '.*org'\nand t.title =~ '.*Education.*'\nreturn s,p,t\nlimit 100"
    },
    {
      "type": "paragraph",
      "id": "c9e82f12e39c3876",
      "text": "I try retrieving nodes by the shape of their relations alone. This is slow. I find sites that have/link the same title. [http://c2.com/wiki/neo4j/mike.svg svg]"
    },
    {
      "type": "code",
      "id": "662142f84fce9768",
      "text": "match (a)-->(b)-->(c)<--(d)<--(e) return * limit 300"
    },
    {
      "type": "paragraph",
      "id": "c8e523e12835a80c",
      "text": "Top page counts for happening sites."
    },
    {
      "type": "code",
      "id": "9c7020b68ae8c2b8",
      "text": "match (s:Site)-->(p) \nwhere s.title =~ '.*fedwikihappening.net' \nwith s.title as site, count(p) as pages \nwhere pages >= 100 \nreturn pages, site\norder by pages desc"
    },
    {
      "type": "markdown",
      "id": "b7a3364f42c67a5e",
      "text": "pages,site\n3089,don.ny2.fedwikihappening.net\n294,machines.alyson.sf.fedwikihappening.net\n225,frances.uk.fedwikihappening.net\n220,kate.au.fedwikihappening.net\n216,maha.uk.fedwikihappening.net\n178,tim.au.fedwikihappening.net\n164,chamboonline.sf2.fedwikihappening.net\n147,jon.sf.fedwikihappening.net\n140,jenny.uk.fedwikihappening.net\n134,thoka.uk2.fedwikihappening.net\n134,sarah.uk.fedwikihappening.net\n133,alyson.sf.fedwikihappening.net\n119,audrey.sf.fedwikihappening.net\n106,cogdog.sf.fedwikihappening.net"
    },
    {
      "type": "paragraph",
      "id": "bc3119cc89b72937",
      "text": "Shortest path between titles with sites that hold the pages along the way. [http://c2.com/wiki/neo4j/way.svg svg]"
    },
    {
      "type": "code",
      "id": "6e961279452364e0",
      "text": "match \n(here:Title \n  { title:\"How Life Works\" }),\n(want:Title \n  { title:\"Federated Wiki On Digital Ocean\" }),\npaths = allShortestPaths((here)-[*]-(want))\nwith nodes(paths) as way\nmatch (s:Site)-->(p:Page)\nwhere p in way\nreturn * limit 40"
    }
  ],
  "journal": [
    {
      "type": "create",
      "item": {
        "title": "Neo4J",
        "story": []
      },
      "date": 1450547803245
    },
    {
      "item": {
        "type": "factory",
        "id": "afc8faf5bf99c607"
      },
      "id": "afc8faf5bf99c607",
      "type": "add",
      "date": 1450547845813
    },
    {
      "type": "edit",
      "id": "afc8faf5bf99c607",
      "item": {
        "type": "paragraph",
        "id": "afc8faf5bf99c607",
        "text": "Neo4j is an open-source graph database implemented in Java and accessible from software written in other languages using the Cypher query language through a transactional HTTP endpoint."
      },
      "date": 1450547852299
    },
    {
      "type": "edit",
      "id": "afc8faf5bf99c607",
      "item": {
        "type": "paragraph",
        "id": "afc8faf5bf99c607",
        "text": "Neo4j is an open-source graph database implemented in Java and accessible from software written in other languages using the Cypher query language through a transactional HTTP endpoint. [https://en.wikipedia.org/wiki/Neo4j wikipedia]"
      },
      "date": 1450547866786
    },
    {
      "type": "edit",
      "id": "afc8faf5bf99c607",
      "item": {
        "type": "paragraph",
        "id": "afc8faf5bf99c607",
        "text": "Neo4j is an open-source graph database implemented in Java and accessible from software written in other languages using the Cypher query language through a transactional HTTP endpoint. [https://en.wikipedia.org/wiki/Neo4j wikipedia] [http://neo4j.com/ site]"
      },
      "date": 1450547955518
    },
    {
      "type": "add",
      "id": "377dce49dd0f2f1a",
      "item": {
        "type": "paragraph",
        "id": "377dce49dd0f2f1a",
        "text": "How To Install Neo4J on an Ubuntu VPS. "
      },
      "after": "afc8faf5bf99c607",
      "date": 1450548017792
    },
    {
      "type": "edit",
      "id": "377dce49dd0f2f1a",
      "item": {
        "type": "paragraph",
        "id": "377dce49dd0f2f1a",
        "text": "How To Install Neo4J on an Ubuntu VPS.  [https://www.digitalocean.com/community/tutorials/how-to-install-neo4j-on-an-ubuntu-vps digialocean]"
      },
      "date": 1450548038889
    },
    {
      "type": "fork",
      "site": "bay.wiki.org"
    },
    {
      "type": "edit",
      "id": "377dce49dd0f2f1a",
      "item": {
        "type": "paragraph",
        "id": "377dce49dd0f2f1a",
        "text": "How To Install Neo4J on an Ubuntu VPS.  [https://www.digitalocean.com/community/tutorials/how-to-install-neo4j-on-an-ubuntu-vps post]"
      },
      "date": 1450578351932
    },
    {
      "type": "add",
      "id": "8c6952c6342e9f22",
      "item": {
        "type": "paragraph",
        "id": "8c6952c6342e9f22",
        "text": "Built a test database and imported it with the import command. ["
      },
      "after": "377dce49dd0f2f1a",
      "date": 1450824644869
    },
    {
      "type": "edit",
      "id": "8c6952c6342e9f22",
      "item": {
        "type": "paragraph",
        "id": "8c6952c6342e9f22",
        "text": "Built a test database and imported it with the import command. [http://neo4j.com/docs/stable/import-tool-examples.html docs]"
      },
      "date": 1450824689199
    },
    {
      "type": "add",
      "id": "9a2baf187dcbab06",
      "item": {
        "type": "paragraph",
        "id": "9a2baf187dcbab06",
        "text": "Edited the config and restarted the server."
      },
      "after": "8c6952c6342e9f22",
      "date": 1450824717200
    },
    {
      "type": "add",
      "id": "b8d95ef363adeb8c",
      "item": {
        "type": "paragraph",
        "id": "b8d95ef363adeb8c",
        "text": "Opened an ssh tunnel to the remote server."
      },
      "after": "9a2baf187dcbab06",
      "date": 1450824731190
    },
    {
      "item": {
        "type": "factory",
        "id": "fac43d944be3212a"
      },
      "id": "fac43d944be3212a",
      "type": "add",
      "after": "b8d95ef363adeb8c",
      "date": 1450824766532
    },
    {
      "type": "edit",
      "id": "fac43d944be3212a",
      "item": {
        "type": "code",
        "id": "fac43d944be3212a",
        "text": "ssh -L 7474:localhost:7474 bay.wiki.org"
      },
      "date": 1450824770449
    },
    {
      "item": {
        "type": "factory",
        "id": "fb60a519f46484a1"
      },
      "id": "fb60a519f46484a1",
      "type": "add",
      "after": "fac43d944be3212a",
      "date": 1450824785046
    },
    {
      "type": "edit",
      "id": "fb60a519f46484a1",
      "item": {
        "type": "paragraph",
        "id": "fb60a519f46484a1",
        "text": "Then viewed the graph using the builtin browser. [http://localhost:7474 browse]"
      },
      "date": 1450824848427
    },
    {
      "type": "move",
      "order": [
        "377dce49dd0f2f1a",
        "afc8faf5bf99c607",
        "8c6952c6342e9f22",
        "9a2baf187dcbab06",
        "b8d95ef363adeb8c",
        "fac43d944be3212a",
        "fb60a519f46484a1"
      ],
      "id": "afc8faf5bf99c607",
      "date": 1450824960598
    },
    {
      "type": "edit",
      "id": "fb60a519f46484a1",
      "item": {
        "type": "paragraph",
        "id": "fb60a519f46484a1",
        "text": "Then viewed the graph using the builtin app. [http://localhost:7474 localhost]"
      },
      "date": 1450831976643
    },
    {
      "type": "add",
      "id": "06ca86a36806e252",
      "item": {
        "type": "paragraph",
        "id": "06ca86a36806e252",
        "text": "Move the constructed db to the server's realm."
      },
      "after": "8c6952c6342e9f22",
      "date": 1450832160956
    },
    {
      "item": {
        "type": "factory",
        "id": "90fce726ebc6a8aa"
      },
      "id": "90fce726ebc6a8aa",
      "type": "add",
      "after": "fb60a519f46484a1",
      "date": 1450832163866
    },
    {
      "type": "move",
      "order": [
        "377dce49dd0f2f1a",
        "afc8faf5bf99c607",
        "8c6952c6342e9f22",
        "06ca86a36806e252",
        "90fce726ebc6a8aa",
        "9a2baf187dcbab06",
        "b8d95ef363adeb8c",
        "fac43d944be3212a",
        "fb60a519f46484a1"
      ],
      "id": "90fce726ebc6a8aa",
      "date": 1450832169253
    },
    {
      "type": "edit",
      "id": "90fce726ebc6a8aa",
      "item": {
        "type": "code",
        "id": "90fce726ebc6a8aa",
        "text": "mv test.db\nchmod -R a+w test.db"
      },
      "date": 1450832532272
    },
    {
      "item": {
        "type": "factory",
        "id": "0f800d3bf753ce02"
      },
      "id": "0f800d3bf753ce02",
      "type": "add",
      "after": "fb60a519f46484a1",
      "date": 1450838950363
    },
    {
      "type": "move",
      "order": [
        "377dce49dd0f2f1a",
        "afc8faf5bf99c607",
        "8c6952c6342e9f22",
        "06ca86a36806e252",
        "90fce726ebc6a8aa",
        "9a2baf187dcbab06",
        "0f800d3bf753ce02",
        "b8d95ef363adeb8c",
        "fac43d944be3212a",
        "fb60a519f46484a1"
      ],
      "id": "0f800d3bf753ce02",
      "date": 1450838955803
    },
    {
      "type": "edit",
      "id": "0f800d3bf753ce02",
      "item": {
        "type": "code",
        "id": "0f800d3bf753ce02",
        "text": "cd /var/lib/neo4j/conf\n"
      },
      "date": 1450838983217
    },
    {
      "type": "edit",
      "id": "0f800d3bf753ce02",
      "item": {
        "type": "code",
        "id": "0f800d3bf753ce02",
        "text": "cd /var/lib/neo4j/conf\nsudo service neo4j-service restart"
      },
      "date": 1450839013714
    },
    {
      "type": "edit",
      "id": "0f800d3bf753ce02",
      "item": {
        "type": "code",
        "id": "0f800d3bf753ce02",
        "text": "cd /var/lib/neo4j/conf\nsudo vi neo4j-server.properties\nsudo service neo4j-service restart"
      },
      "date": 1450839205339
    },
    {
      "type": "add",
      "id": "afc3b4fc581e74e8",
      "item": {
        "type": "paragraph",
        "id": "afc3b4fc581e74e8",
        "text": "# Learn"
      },
      "after": "8c6952c6342e9f22",
      "date": 1450878302347
    },
    {
      "type": "move",
      "order": [
        "377dce49dd0f2f1a",
        "afc8faf5bf99c607",
        "afc3b4fc581e74e8",
        "8c6952c6342e9f22",
        "06ca86a36806e252",
        "90fce726ebc6a8aa",
        "9a2baf187dcbab06",
        "0f800d3bf753ce02",
        "b8d95ef363adeb8c",
        "fac43d944be3212a",
        "fb60a519f46484a1"
      ],
      "id": "afc3b4fc581e74e8",
      "date": 1450878342176
    },
    {
      "type": "move",
      "order": [
        "afc8faf5bf99c607",
        "377dce49dd0f2f1a",
        "afc3b4fc581e74e8",
        "8c6952c6342e9f22",
        "06ca86a36806e252",
        "90fce726ebc6a8aa",
        "9a2baf187dcbab06",
        "0f800d3bf753ce02",
        "b8d95ef363adeb8c",
        "fac43d944be3212a",
        "fb60a519f46484a1"
      ],
      "id": "377dce49dd0f2f1a",
      "date": 1450878345314
    },
    {
      "type": "add",
      "id": "b3ccef17e6e5ecbc",
      "item": {
        "type": "paragraph",
        "id": "b3ccef17e6e5ecbc",
        "text": "I've sought the assistance of Erika Arnold, a work colleague and author of wiki"
      },
      "after": "afc3b4fc581e74e8",
      "date": 1450878436860
    },
    {
      "type": "edit",
      "id": "b3ccef17e6e5ecbc",
      "item": {
        "type": "paragraph",
        "id": "b3ccef17e6e5ecbc",
        "text": "I've sought the kind assistance of Erika Arnold, a work colleague and author of wikiGraph, a shortest-path finding/visualizing application for Wikipedia based on Neo4J. [http://www.erikaarnold.com/#/wikigraph/ page]"
      },
      "date": 1450878545564
    },
    {
      "type": "edit",
      "id": "afc3b4fc581e74e8",
      "item": {
        "type": "markdown",
        "id": "afc3b4fc581e74e8",
        "text": "# Learn"
      },
      "date": 1450878551199
    },
    {
      "type": "edit",
      "id": "b3ccef17e6e5ecbc",
      "item": {
        "type": "paragraph",
        "id": "b3ccef17e6e5ecbc",
        "text": "I've sought the kind assistance of Erika Arnold, a work colleague and author of wikiGraph, a shortest-path visualizing application for Wikipedia based on Neo4J. I follow her approach. [http://www.erikaarnold.com/#/wikigraph/ page]"
      },
      "date": 1450878877367
    },
    {
      "type": "edit",
      "id": "90fce726ebc6a8aa",
      "item": {
        "type": "code",
        "id": "90fce726ebc6a8aa",
        "text": "sudo mv ~/neo-wiki/wiki.db .\nchmod -R a+w test.db"
      },
      "date": 1450902332654
    },
    {
      "type": "edit",
      "id": "90fce726ebc6a8aa",
      "item": {
        "type": "code",
        "id": "90fce726ebc6a8aa",
        "text": "cd /var/lib/neo4j/data\nsudo mv ~/neo-wiki/wiki.db .\nchmod -R a+w test.db"
      },
      "date": 1450902353400
    },
    {
      "type": "edit",
      "id": "90fce726ebc6a8aa",
      "item": {
        "type": "code",
        "id": "90fce726ebc6a8aa",
        "text": "cd /var/lib/neo4j/data\nsudo mv ~/neo-wiki/wiki.db .\nchmod -R a+w wiki.db"
      },
      "date": 1450902364074
    },
    {
      "type": "add",
      "id": "3f4246b7092264d5",
      "item": {
        "type": "paragraph",
        "id": "3f4246b7092264d5",
        "text": "Find resources."
      },
      "after": "8c6952c6342e9f22",
      "date": 1450902502686
    },
    {
      "item": {
        "type": "factory",
        "id": "c8a032e566c6ed09"
      },
      "id": "c8a032e566c6ed09",
      "type": "add",
      "after": "fb60a519f46484a1",
      "date": 1450902507652
    },
    {
      "type": "add",
      "id": "56f666df4e1303cc",
      "item": {
        "type": "paragraph",
        "id": "56f666df4e1303cc",
        "text": "locate neo4j"
      },
      "after": "3f4246b7092264d5",
      "date": 1450902524351
    },
    {
      "type": "remove",
      "id": "c8a032e566c6ed09",
      "date": 1450902530436
    },
    {
      "type": "remove",
      "id": "56f666df4e1303cc",
      "date": 1450903826665
    },
    {
      "item": {
        "type": "factory",
        "id": "8954f7a4831598aa"
      },
      "id": "8954f7a4831598aa",
      "type": "add",
      "after": "fb60a519f46484a1",
      "date": 1450903831199
    },
    {
      "type": "edit",
      "id": "8954f7a4831598aa",
      "item": {
        "type": "code",
        "id": "8954f7a4831598aa",
        "text": "locate neo4j"
      },
      "date": 1450903835035
    },
    {
      "type": "move",
      "order": [
        "afc8faf5bf99c607",
        "377dce49dd0f2f1a",
        "afc3b4fc581e74e8",
        "b3ccef17e6e5ecbc",
        "8c6952c6342e9f22",
        "3f4246b7092264d5",
        "8954f7a4831598aa",
        "06ca86a36806e252",
        "90fce726ebc6a8aa",
        "9a2baf187dcbab06",
        "0f800d3bf753ce02",
        "b8d95ef363adeb8c",
        "fac43d944be3212a",
        "fb60a519f46484a1"
      ],
      "id": "8954f7a4831598aa",
      "date": 1450903840678
    },
    {
      "type": "edit",
      "id": "3f4246b7092264d5",
      "item": {
        "type": "paragraph",
        "id": "3f4246b7092264d5",
        "text": "Find where  neo4j resources have been installed."
      },
      "date": 1450903864556
    },
    {
      "type": "edit",
      "id": "9a2baf187dcbab06",
      "item": {
        "type": "paragraph",
        "id": "9a2baf187dcbab06",
        "text": "Edit the config and restarted the server."
      },
      "date": 1450904011833
    },
    {
      "type": "edit",
      "id": "b8d95ef363adeb8c",
      "item": {
        "type": "paragraph",
        "id": "b8d95ef363adeb8c",
        "text": "Open an ssh tunnel to the remote server."
      },
      "date": 1450904017847
    },
    {
      "type": "edit",
      "id": "b3ccef17e6e5ecbc",
      "item": {
        "type": "paragraph",
        "id": "b3ccef17e6e5ecbc",
        "text": "I've sought the kind assistance of Erika Arnold, a work colleague and author of wikiGraph, a shortest-path visualizing application for Wikipedia based on Neo4J. Here I follow her approach. [http://www.erikaarnold.com/#/wikigraph/ page]"
      },
      "date": 1450904116027
    },
    {
      "type": "edit",
      "id": "b3ccef17e6e5ecbc",
      "item": {
        "type": "paragraph",
        "id": "b3ccef17e6e5ecbc",
        "text": "I've sought the kind assistance of Erika Arnold, a work colleague and author of wikiGraph, a shortest-path visualizing application for Wikipedia based on Neo4J. [http://www.erikaarnold.com/#/wikigraph/ page]"
      },
      "date": 1450904135174
    },
    {
      "type": "add",
      "id": "4ab05bd79071d356",
      "item": {
        "type": "paragraph",
        "id": "4ab05bd79071d356",
        "text": "Here I follow her approach. "
      },
      "after": "b3ccef17e6e5ecbc",
      "date": 1450904139340
    },
    {
      "type": "edit",
      "id": "b3ccef17e6e5ecbc",
      "item": {
        "type": "paragraph",
        "id": "b3ccef17e6e5ecbc",
        "text": "I've sought the kind assistance of work colleague, Erika Arnold, author of wikiGraph, a shortest-path visualizing application for Wikipedia based on Neo4J. [http://www.erikaarnold.com/#/wikigraph/ page]"
      },
      "date": 1450904187916
    },
    {
      "item": {
        "type": "factory",
        "id": "ae4067729aedf28b"
      },
      "id": "ae4067729aedf28b",
      "type": "add",
      "after": "fb60a519f46484a1",
      "date": 1450904606116
    },
    {
      "type": "edit",
      "id": "ae4067729aedf28b",
      "item": {
        "type": "code",
        "id": "ae4067729aedf28b",
        "text": "neo4j-import --into wiki.db \\\n  --nodes nodes.csv \\\n  --relationships rels.csv\nchmod -R a+w wiki.db\n"
      },
      "date": 1450904641526
    },
    {
      "type": "edit",
      "id": "ae4067729aedf28b",
      "item": {
        "type": "code",
        "id": "ae4067729aedf28b",
        "text": "neo4j-import \\\n  --into wiki.db \\\n  --nodes nodes.csv \\\n  --relationships rels.csv\nchmod -R a+w wiki.db\n"
      },
      "date": 1450904662900
    },
    {
      "type": "move",
      "order": [
        "afc8faf5bf99c607",
        "377dce49dd0f2f1a",
        "afc3b4fc581e74e8",
        "b3ccef17e6e5ecbc",
        "4ab05bd79071d356",
        "8c6952c6342e9f22",
        "ae4067729aedf28b",
        "3f4246b7092264d5",
        "8954f7a4831598aa",
        "06ca86a36806e252",
        "90fce726ebc6a8aa",
        "9a2baf187dcbab06",
        "0f800d3bf753ce02",
        "b8d95ef363adeb8c",
        "fac43d944be3212a",
        "fb60a519f46484a1"
      ],
      "id": "ae4067729aedf28b",
      "date": 1450904671474
    },
    {
      "type": "edit",
      "id": "ae4067729aedf28b",
      "item": {
        "type": "code",
        "id": "ae4067729aedf28b",
        "text": "neo4j-import \\\n  --into wiki.db \\\n  --nodes nodes.csv \\\n  --relationships rels.csv"
      },
      "date": 1450904689211
    },
    {
      "type": "add",
      "id": "7f5bb86358d2cd25",
      "item": {
        "type": "paragraph",
        "id": "7f5bb86358d2cd25",
        "text": "# Query"
      },
      "after": "fb60a519f46484a1",
      "date": 1450965115865
    },
    {
      "type": "add",
      "id": "c9e82f12e39c3876",
      "item": {
        "type": "paragraph",
        "id": "c9e82f12e39c3876",
        "text": "Find titles cited by two sites."
      },
      "after": "7f5bb86358d2cd25",
      "date": 1450965286550
    },
    {
      "item": {
        "type": "factory",
        "id": "662142f84fce9768"
      },
      "id": "662142f84fce9768",
      "type": "add",
      "after": "c9e82f12e39c3876",
      "date": 1450965289168
    },
    {
      "type": "edit",
      "id": "662142f84fce9768",
      "item": {
        "type": "code",
        "id": "662142f84fce9768",
        "text": "match (a)-->(b)-->(c)<--(d)<--(e) return * limit 300"
      },
      "date": 1450965294607
    },
    {
      "type": "edit",
      "id": "7f5bb86358d2cd25",
      "item": {
        "type": "markdown",
        "id": "7f5bb86358d2cd25",
        "text": "# Query"
      },
      "date": 1450965303638
    },
    {
      "type": "edit",
      "id": "c9e82f12e39c3876",
      "item": {
        "type": "paragraph",
        "id": "c9e82f12e39c3876",
        "text": "Find sites that have/link the same title."
      },
      "date": 1450966771799
    },
    {
      "item": {
        "type": "factory",
        "id": "16802dc2b5b935b5"
      },
      "id": "16802dc2b5b935b5",
      "type": "add",
      "after": "662142f84fce9768",
      "date": 1450967287393
    },
    {
      "type": "edit",
      "id": "16802dc2b5b935b5",
      "item": {
        "type": "code",
        "id": "16802dc2b5b935b5",
        "text": "match (s:Site)-[HAS]->(p:Page)-[LINK]->(t:Title)\nwhere s.title =~ '.*org'\nand t.title =~ '.*Education.*'\nreturn s,p,t\nlimit 100"
      },
      "date": 1450967291626
    },
    {
      "type": "edit",
      "id": "c9e82f12e39c3876",
      "item": {
        "type": "paragraph",
        "id": "c9e82f12e39c3876",
        "text": "Find sites that have/link the same title. [http://c2.com/wiki/neo4j/mike.svg svg]"
      },
      "date": 1450967502542
    },
    {
      "type": "add",
      "id": "4e20e455cbf83ff1",
      "item": {
        "type": "paragraph",
        "id": "4e20e455cbf83ff1",
        "text": "It's hard to know what to look for until you have a real need and some experience formulating queries. I read docs and tried things. Some impressed me."
      },
      "after": "c9e82f12e39c3876",
      "date": 1450967998560
    },
    {
      "type": "add",
      "id": "537d1aec4c16304d",
      "item": {
        "type": "paragraph",
        "id": "537d1aec4c16304d",
        "text": "For fast queries one must find a good place to start and then traverse from there. I picked .org sites and looked for links to titles about Education. [http://c2.com/wiki/neo4j/education.svg svg]"
      },
      "after": "4e20e455cbf83ff1",
      "date": 1450968114258
    },
    {
      "type": "move",
      "order": [
        "afc8faf5bf99c607",
        "377dce49dd0f2f1a",
        "afc3b4fc581e74e8",
        "b3ccef17e6e5ecbc",
        "4ab05bd79071d356",
        "8c6952c6342e9f22",
        "ae4067729aedf28b",
        "3f4246b7092264d5",
        "8954f7a4831598aa",
        "06ca86a36806e252",
        "90fce726ebc6a8aa",
        "9a2baf187dcbab06",
        "0f800d3bf753ce02",
        "b8d95ef363adeb8c",
        "fac43d944be3212a",
        "fb60a519f46484a1",
        "7f5bb86358d2cd25",
        "c9e82f12e39c3876",
        "4e20e455cbf83ff1",
        "537d1aec4c16304d",
        "16802dc2b5b935b5",
        "662142f84fce9768"
      ],
      "id": "16802dc2b5b935b5",
      "date": 1450968121772
    },
    {
      "type": "move",
      "order": [
        "afc8faf5bf99c607",
        "377dce49dd0f2f1a",
        "afc3b4fc581e74e8",
        "b3ccef17e6e5ecbc",
        "4ab05bd79071d356",
        "8c6952c6342e9f22",
        "ae4067729aedf28b",
        "3f4246b7092264d5",
        "8954f7a4831598aa",
        "06ca86a36806e252",
        "90fce726ebc6a8aa",
        "9a2baf187dcbab06",
        "0f800d3bf753ce02",
        "b8d95ef363adeb8c",
        "fac43d944be3212a",
        "fb60a519f46484a1",
        "7f5bb86358d2cd25",
        "4e20e455cbf83ff1",
        "537d1aec4c16304d",
        "16802dc2b5b935b5",
        "c9e82f12e39c3876",
        "662142f84fce9768"
      ],
      "id": "c9e82f12e39c3876",
      "date": 1450968126251
    },
    {
      "type": "edit",
      "id": "c9e82f12e39c3876",
      "item": {
        "type": "paragraph",
        "id": "c9e82f12e39c3876",
        "text": "One can retrieve nodes by the shape of their relations alone though this take noticable compute time. Without saying as much I find sites that have/link the same title. [http://c2.com/wiki/neo4j/mike.svg svg]"
      },
      "date": 1450968450683
    },
    {
      "type": "edit",
      "id": "c9e82f12e39c3876",
      "item": {
        "type": "paragraph",
        "id": "c9e82f12e39c3876",
        "text": "I try retrieving nodes by the shape of their relations alone. This is slow. I find sites that have/link the same title. [http://c2.com/wiki/neo4j/mike.svg svg]"
      },
      "date": 1450968497895
    },
    {
      "type": "edit",
      "id": "537d1aec4c16304d",
      "item": {
        "type": "paragraph",
        "id": "537d1aec4c16304d",
        "text": "For fast queries find a good place to start and then traverse from there. I picked .org sites and looked for links to titles about Education. [http://c2.com/wiki/neo4j/education.svg svg]"
      },
      "date": 1450968526170
    },
    {
      "type": "edit",
      "id": "4e20e455cbf83ff1",
      "item": {
        "type": "paragraph",
        "id": "4e20e455cbf83ff1",
        "text": "It's hard to know what to look for until you have a real need and some experience formulating queries. I read docs and tried things. Some impressed me enough to save the svg."
      },
      "date": 1450968580755
    },
    {
      "type": "edit",
      "id": "fb60a519f46484a1",
      "item": {
        "type": "paragraph",
        "id": "fb60a519f46484a1",
        "text": "Then view the graph using the builtin app. [http://localhost:7474 localhost]"
      },
      "date": 1450968594329
    },
    {
      "type": "edit",
      "id": "afc3b4fc581e74e8",
      "item": {
        "type": "markdown",
        "id": "afc3b4fc581e74e8",
        "text": "# Load"
      },
      "date": 1450968624916
    },
    {
      "type": "move",
      "order": [
        "afc8faf5bf99c607",
        "377dce49dd0f2f1a",
        "b3ccef17e6e5ecbc",
        "4ab05bd79071d356",
        "afc3b4fc581e74e8",
        "8c6952c6342e9f22",
        "ae4067729aedf28b",
        "3f4246b7092264d5",
        "8954f7a4831598aa",
        "06ca86a36806e252",
        "90fce726ebc6a8aa",
        "9a2baf187dcbab06",
        "0f800d3bf753ce02",
        "b8d95ef363adeb8c",
        "fac43d944be3212a",
        "fb60a519f46484a1",
        "7f5bb86358d2cd25",
        "4e20e455cbf83ff1",
        "537d1aec4c16304d",
        "16802dc2b5b935b5",
        "c9e82f12e39c3876",
        "662142f84fce9768"
      ],
      "id": "afc3b4fc581e74e8",
      "date": 1450968633358
    },
    {
      "type": "edit",
      "id": "8c6952c6342e9f22",
      "item": {
        "type": "paragraph",
        "id": "8c6952c6342e9f22",
        "text": "Built a test database and imported it with the import command. [http://neo4j.com/docs/stable/import-tool-examples.html docs] [http://search.fed.wiki.org:3030/nodes.csv nodes.csv] [http://search.fed.wiki.org:3030/rels.csv rels.csv]"
      },
      "date": 1450968863982
    },
    {
      "item": {
        "type": "factory",
        "id": "c8e523e12835a80c"
      },
      "id": "c8e523e12835a80c",
      "type": "add",
      "after": "662142f84fce9768",
      "date": 1450977107875
    },
    {
      "type": "edit",
      "id": "c8e523e12835a80c",
      "item": {
        "type": "paragraph",
        "id": "c8e523e12835a80c",
        "text": "Top page counts for happening sites."
      },
      "date": 1450977165152
    },
    {
      "item": {
        "type": "factory",
        "id": "cc12331e2d1b4952"
      },
      "id": "cc12331e2d1b4952",
      "type": "add",
      "after": "c8e523e12835a80c",
      "date": 1450977167507
    },
    {
      "type": "remove",
      "id": "cc12331e2d1b4952",
      "date": 1450977184082
    },
    {
      "item": {
        "type": "factory",
        "id": "b7a3364f42c67a5e"
      },
      "id": "b7a3364f42c67a5e",
      "type": "add",
      "after": "c8e523e12835a80c",
      "date": 1450977185988
    },
    {
      "type": "edit",
      "id": "b7a3364f42c67a5e",
      "item": {
        "type": "markdown",
        "id": "b7a3364f42c67a5e",
        "text": "s.title,count(p)\ndon.ny2.fedwikihappening.net,3089\nmachines.alyson.sf.fedwikihappening.net,294\nfrances.uk.fedwikihappening.net,225\nkate.au.fedwikihappening.net,220\nmaha.uk.fedwikihappening.net,216\ntim.au.fedwikihappening.net,178\nchamboonline.sf2.fedwikihappening.net,164\njon.sf.fedwikihappening.net,147\njenny.uk.fedwikihappening.net,140\nthoka.uk2.fedwikihappening.net,134\nsarah.uk.fedwikihappening.net,134\nalyson.sf.fedwikihappening.net,133\naudrey.sf.fedwikihappening.net,119\ncogdog.sf.fedwikihappening.net,106\ncj13.sf2.fedwikihappening.net,91\nmura.uk.fedwikihappening.net,84\nnick.uk.fedwikihappening.net,73\ndirectory.fedwikihappening.net,70\ncogdoghappening.sf2.fedwikihappening.net,42\nx28de.uk2.fedwikihappening.net,38\nmcmorgan.ny2.fedwikihappening.net,38\ncatherine.uk.fedwikihappening.net,36\ndaveh70.ny2.fedwikihappening.net,35\nalex.au.fedwikihappening.net,27\nanderhaff.ny2.fedwikihappening.net,26\npodehaye.uk2.fedwikihappening.net,23\ndogtrax.ny2.fedwikihappening.net,20\nclay.ny.fedwikihappening.net,18\ntelliowkuwp.ny2.fedwikihappening.net,17\nhwangmoretime.sf2.fedwikihappening.net,17\njrdingwall.sf2.fedwikihappening.net,16\nassignments.ny2.fedwikihappening.net,14\ndongorges.ny2.fedwikihappening.net,14\nottonomy.sf2.fedwikihappening.net,13\nsteve.ny.fedwikihappening.net,11\ndonalholland.ny2.fedwikihappening.net,11\nkeith.ny.fedwikihappening.net,10\n"
      },
      "date": 1450977189743
    },
    {
      "item": {
        "type": "factory",
        "id": "9c7020b68ae8c2b8"
      },
      "id": "9c7020b68ae8c2b8",
      "type": "add",
      "after": "b7a3364f42c67a5e",
      "date": 1450977262923
    },
    {
      "type": "edit",
      "id": "9c7020b68ae8c2b8",
      "item": {
        "type": "code",
        "id": "9c7020b68ae8c2b8",
        "text": "match (s:Site)-->(p)\nwhere s.title =~ '.*fedwikihappening.net'\nreturn s.title,count(p)\norder by count(p) desc"
      },
      "date": 1450977291380
    },
    {
      "type": "move",
      "order": [
        "afc8faf5bf99c607",
        "377dce49dd0f2f1a",
        "b3ccef17e6e5ecbc",
        "4ab05bd79071d356",
        "afc3b4fc581e74e8",
        "8c6952c6342e9f22",
        "ae4067729aedf28b",
        "3f4246b7092264d5",
        "8954f7a4831598aa",
        "06ca86a36806e252",
        "90fce726ebc6a8aa",
        "9a2baf187dcbab06",
        "0f800d3bf753ce02",
        "b8d95ef363adeb8c",
        "fac43d944be3212a",
        "fb60a519f46484a1",
        "7f5bb86358d2cd25",
        "4e20e455cbf83ff1",
        "537d1aec4c16304d",
        "16802dc2b5b935b5",
        "c9e82f12e39c3876",
        "662142f84fce9768",
        "c8e523e12835a80c",
        "9c7020b68ae8c2b8",
        "b7a3364f42c67a5e"
      ],
      "id": "9c7020b68ae8c2b8",
      "date": 1450977300261
    },
    {
      "type": "edit",
      "id": "9c7020b68ae8c2b8",
      "item": {
        "type": "code",
        "id": "9c7020b68ae8c2b8",
        "text": "match (s:Site)-->(p) \nwhere s.title =~ '.*fedwikihappening.net' \nwith s.title as site, count(p) as pages \nwhere pages>=100 \nreturn * \norder by pages desc"
      },
      "date": 1450978062286
    },
    {
      "type": "edit",
      "id": "9c7020b68ae8c2b8",
      "item": {
        "type": "code",
        "id": "9c7020b68ae8c2b8",
        "text": "match (s:Site)-->(p) \nwhere s.title =~ '.*fedwikihappening.net' \nwith s.title as site, count(p) as pages \nwhere pages>=100 \nreturn pages, site\norder by pages desc"
      },
      "date": 1450978091495
    },
    {
      "type": "edit",
      "id": "b7a3364f42c67a5e",
      "item": {
        "type": "markdown",
        "id": "b7a3364f42c67a5e",
        "text": "pages,site\n3089,don.ny2.fedwikihappening.net\n294,machines.alyson.sf.fedwikihappening.net\n225,frances.uk.fedwikihappening.net\n220,kate.au.fedwikihappening.net\n216,maha.uk.fedwikihappening.net\n178,tim.au.fedwikihappening.net\n164,chamboonline.sf2.fedwikihappening.net\n147,jon.sf.fedwikihappening.net\n140,jenny.uk.fedwikihappening.net\n134,thoka.uk2.fedwikihappening.net\n134,sarah.uk.fedwikihappening.net\n133,alyson.sf.fedwikihappening.net\n119,audrey.sf.fedwikihappening.net\n106,cogdog.sf.fedwikihappening.net"
      },
      "date": 1450978199612
    },
    {
      "type": "edit",
      "id": "9c7020b68ae8c2b8",
      "item": {
        "type": "code",
        "id": "9c7020b68ae8c2b8",
        "text": "match (s:Site)-->(p) \nwhere s.title =~ '.*fedwikihappening.net' \nwith s.title as site, count(p) as pages \nwhere pages >= 100 \nreturn pages, site\norder by pages desc"
      },
      "date": 1450978643707
    },
    {
      "item": {
        "type": "factory",
        "id": "bc3119cc89b72937"
      },
      "id": "bc3119cc89b72937",
      "type": "add",
      "after": "b7a3364f42c67a5e",
      "date": 1450982039116
    },
    {
      "type": "edit",
      "id": "bc3119cc89b72937",
      "item": {
        "type": "paragraph",
        "id": "bc3119cc89b72937",
        "text": "Shortest path between titles with sites that hold the pages citing them. Answers whos' scratch pages made the connections?"
      },
      "date": 1450982208766
    },
    {
      "item": {
        "type": "factory",
        "id": "a8d30df76764edc4"
      },
      "id": "a8d30df76764edc4",
      "type": "add",
      "after": "bc3119cc89b72937",
      "date": 1450982218721
    },
    {
      "type": "remove",
      "id": "a8d30df76764edc4",
      "date": 1450982229242
    },
    {
      "item": {
        "type": "factory",
        "id": "6e961279452364e0"
      },
      "id": "6e961279452364e0",
      "type": "add",
      "after": "bc3119cc89b72937",
      "date": 1450982245072
    },
    {
      "type": "edit",
      "id": "6e961279452364e0",
      "item": {
        "type": "code",
        "id": "6e961279452364e0",
        "text": "match (here:Title { title:\"How Life Works\" }),\n(want:Title { title:\"Federated Wiki On Digital Ocean\" }),\npaths = allShortestPaths((here)-[*]-(want))\nwith nodes(paths) as way\nmatch (s:Site)-->(p:Page)\nwhere p in way\nreturn * limit 40"
      },
      "date": 1450982284636
    },
    {
      "type": "edit",
      "id": "bc3119cc89b72937",
      "item": {
        "type": "paragraph",
        "id": "bc3119cc89b72937",
        "text": "Shortest path between titles with sites that hold the pages citing them. Answers whos' scratch pages made the connection possible."
      },
      "date": 1450982361181
    },
    {
      "type": "edit",
      "id": "bc3119cc89b72937",
      "item": {
        "type": "paragraph",
        "id": "bc3119cc89b72937",
        "text": "Shortest path between titles with sites that hold the pages citing them. Answers whos' scratch pages made the connection possible. [http://c2.com/web/wiki/neo4j/way.svg svg]"
      },
      "date": 1450982526535
    },
    {
      "type": "edit",
      "id": "bc3119cc89b72937",
      "item": {
        "type": "paragraph",
        "id": "bc3119cc89b72937",
        "text": "Shortest path between titles with sites that hold the pages citing them. Answers whos' scratch pages made the connection possible. [http://c2.com/wiki/neo4j/way.svg svg]"
      },
      "date": 1450982551653
    },
    {
      "type": "edit",
      "id": "bc3119cc89b72937",
      "item": {
        "type": "paragraph",
        "id": "bc3119cc89b72937",
        "text": "Shortest path between titles with sites that hold the pages along the way.[http://c2.com/wiki/neo4j/way.svg svg]"
      },
      "date": 1450982817958
    },
    {
      "type": "edit",
      "id": "6e961279452364e0",
      "item": {
        "type": "code",
        "id": "6e961279452364e0",
        "text": "match \n(here:Title \n  { title:\"How Life Works\" }),\n(want:Title \n  { title:\"Federated Wiki On Digital Ocean\" }),\npaths = allShortestPaths((here)-[*]-(want))\nwith nodes(paths) as way\nmatch (s:Site)-->(p:Page)\nwhere p in way\nreturn * limit 40"
      },
      "date": 1450982871949
    },
    {
      "type": "edit",
      "id": "6e961279452364e0",
      "item": {
        "type": "code",
        "id": "6e961279452364e0",
        "text": "match \n(here:Title \n  { title:\"How Life Works\" }),\n(want:Title {title:\"Federated Wiki On Digital Ocean\"}),\npaths = allShortestPaths((here)-[*]-(want))\nwith nodes(paths) as way\nmatch (s:Site)-->(p:Page)\nwhere p in way\nreturn * limit 40"
      },
      "date": 1450982900336
    },
    {
      "type": "edit",
      "id": "6e961279452364e0",
      "item": {
        "type": "code",
        "id": "6e961279452364e0",
        "text": "match \n(here:Title \n  { title:\"How Life Works\" }),\n(want:Title \n  { title:\"Federated Wiki On Digital Ocean\" }),\npaths = allShortestPaths((here)-[*]-(want))\nwith nodes(paths) as way\nmatch (s:Site)-->(p:Page)\nwhere p in way\nreturn * limit 40"
      },
      "date": 1450982931147
    },
    {
      "type": "edit",
      "id": "bc3119cc89b72937",
      "item": {
        "type": "paragraph",
        "id": "bc3119cc89b72937",
        "text": "Shortest path between titles with sites that hold the pages along the way. [http://c2.com/wiki/neo4j/way.svg svg]"
      },
      "date": 1450990447037
    },
    {
      "type": "add",
      "id": "0d4cc80cedf557cf",
      "item": {
        "type": "paragraph",
        "id": "0d4cc80cedf557cf",
        "text": "See [[Neo4J Resources]]"
      },
      "after": "afc8faf5bf99c607",
      "date": 1451004658897
    },
    {
      "type": "fork",
      "site": "ward.asia.wiki.org",
      "date": 1451008199685,
      "error": {
        "type": "error",
        "msg": "Forbidden",
        "response": "Forbidden"
      }
    },
    {
      "type": "fork",
      "date": 1451008215213
    }
  ]
}