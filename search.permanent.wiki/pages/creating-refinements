{
  "title": "Creating Refinements",
  "story": [
    {
      "type": "paragraph",
      "id": "3ea43fd201c94fcc",
      "text": "You can create [[refinement]] labels and tag sites with them in the [[Refinements Tab]] of the [[CSE Control Panel]], but you can have greater control over the ranking if you are using the [[Custom Search XML Annotations]] file. "
    },
    {
      "type": "paragraph",
      "id": "78f55902a367b41d",
      "text": "If you don't want to include PageMap data in the HTML of your pages, you can add PageMap data to a Sitemap and submit that Sitemap for on-demand indexing."
    },
    {
      "type": "markdown",
      "id": "fa2836c26a2b2c95",
      "text": "To add a refinement to custom search using [[PageMaps]] added to the [[Google Sitemap]], you should::\n* Go to the [[Refinement Tab]] and add a [[refinement]]\n* Choose \"Give priority to labeled sites\"\n* Add something like \"more:pagemap:books\"\n* Repeat the above for more refinements\n"
    },
    {
      "type": "html",
      "id": "0e7a3443788986cf",
      "text": "You add the text <code>more:pagemap:books</code> to the \"Word(s) to add to the search query: (optional)\" text box."
    },
    {
      "type": "paragraph",
      "id": "102f832e2959ea2c",
      "text": "The first thing to do is to customise each url entry in the plain [[Google Sitemap]] with an extra [[<PageMap>]] tag."
    },
    {
      "type": "code",
      "id": "48d0f026fdd37640",
      "text": "<url>\n    <loc>\n    <PageMap>\n        <DataObject type>\n            <attribute name>"
    },
    {
      "type": "reference",
      "id": "39fce86f9a41a13e",
      "site": "dev.himalayan.academy",
      "slug": "add-pagemap-to-the-sitemap",
      "title": "Add PageMap to the Sitemap",
      "text": "Suppose you've defined PageMaps with a \"pagetype\" attribute as in this example:"
    },
    {
      "type": "reference",
      "id": "531a6d4c0a381164",
      "site": "dev.himalayan.academy",
      "slug": "create-refinements-labels",
      "title": "Create Refinements Labels",
      "text": "There are two ways to create the refinements lables that show up in the custom search pane, first by using the [[Control Panel]], and second by editing and then submitting a specialised XML file. "
    },
    {
      "type": "markdown",
      "id": "0860b2c80c116c1d",
      "text": "# Demo"
    },
    {
      "type": "paragraph",
      "id": "33fad0af355a9103",
      "text": "This demo (try searching for, say, \"pizza\") was built exactly the same as I described above, so you should be able to do it:\n[http://googlecustomsearch.appspot.com/demo.html?i=off&cx=000538640564791913793:s6xet5vjgsc googlecustomsearch.appspot.com]"
    },
    {
      "type": "reference",
      "id": "702749a4ad81a35f",
      "site": "dev.himalayan.academy",
      "slug": "pagemap",
      "title": "PageMap",
      "text": "The <PageMap> tag wraps one or more [[DataObject]] tags, in a [[Google Sitemap]] or the markup fo an HTML page."
    }
  ],
  "journal": [
    {
      "type": "create",
      "item": {
        "title": "Creating Refinements",
        "story": []
      },
      "date": 1459527199786
    },
    {
      "type": "add",
      "item": {
        "type": "paragraph",
        "id": "3ea43fd201c94fcc",
        "text": "You can create refinement labels and tag sites with them in the [[Refinements Tab]] of the control panel, but you can have greater control over the ranking if you are using the [[Custom Search XML Annotations]] file. "
      },
      "id": "3ea43fd201c94fcc",
      "date": 1459527245213
    },
    {
      "type": "edit",
      "id": "3ea43fd201c94fcc",
      "item": {
        "type": "paragraph",
        "id": "3ea43fd201c94fcc",
        "text": "You can create refinement labels and tag sites with them in the [[Refinements Tab]] of the [[CSE Control Panel]], but you can have greater control over the ranking if you are using the [[Custom Search XML Annotations]] file. "
      },
      "date": 1459528615802
    },
    {
      "item": {
        "type": "factory",
        "id": "78f55902a367b41d"
      },
      "id": "78f55902a367b41d",
      "type": "add",
      "after": "3ea43fd201c94fcc",
      "date": 1459529588546
    },
    {
      "type": "edit",
      "id": "78f55902a367b41d",
      "item": {
        "type": "paragraph",
        "id": "78f55902a367b41d",
        "text": "If you don't want to include PageMap data in the HTML of your pages, you can add PageMap data to a Sitemap and submit that Sitemap for on-demand indexing."
      },
      "date": 1459529598268
    },
    {
      "type": "add",
      "id": "e488b46e67cd7812",
      "item": {
        "type": "paragraph",
        "id": "e488b46e67cd7812",
        "text": "Here's an example of a Sitemap that includes PageMap information for two URLs: http://www.example.com/foo and http://www.example.com/bar."
      },
      "after": "78f55902a367b41d",
      "date": 1459529608652
    },
    {
      "type": "add",
      "id": "139ef09fa45798df",
      "item": {
        "type": "paragraph",
        "id": "139ef09fa45798df",
        "text": "# PageMap tag definitions"
      },
      "after": "e488b46e67cd7812",
      "date": 1459529628451
    },
    {
      "type": "add",
      "id": "45cac289882ebb84",
      "item": {
        "type": "paragraph",
        "id": "45cac289882ebb84",
        "text": "The following table outlines the requirements for adding PageMap data to a sitemap. For more information about creating Sitemaps, including basic tag definitions, see Creating Sitemaps."
      },
      "after": "139ef09fa45798df",
      "date": 1459529631140
    },
    {
      "type": "edit",
      "id": "139ef09fa45798df",
      "item": {
        "type": "markdown",
        "id": "139ef09fa45798df",
        "text": "# PageMap tag definitions"
      },
      "date": 1459529632727
    },
    {
      "item": {
        "type": "factory",
        "id": "14d7d49049165f31"
      },
      "id": "14d7d49049165f31",
      "type": "add",
      "after": "4126d80b46dfa02c",
      "date": 1459529661513
    },
    {
      "type": "add",
      "id": "4126d80b46dfa02c",
      "item": {
        "type": "paragraph",
        "id": "4126d80b46dfa02c",
        "text": "Tag\tRequired?\tDescription\nPageMap\tYes\tEncloses all PageMap information for the relevant URL.\nDataObject\tYes\tEncloses all information about a single element (for example, an action) that should appear in the Custom Search result.\nAttribute\tYes\tEach DataObject contains one or more attributes."
      },
      "after": "45cac289882ebb84",
      "date": 1459529662869
    },
    {
      "type": "edit",
      "id": "14d7d49049165f31",
      "item": {
        "type": "code",
        "id": "14d7d49049165f31",
        "text": "<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<urlset xmlns=\"http://www.sitemaps.org/schemas/sitemap/0.9\"\n       xmlns:content=\"http://www.google.com/schemas/sitemap-content/1.0\">\n <url>\n   <loc>http://www.example.com/foo</loc>\n   <PageMap xmlns=\"http://www.google.com/schemas/sitemap-pagemap/1.0\">\n     <DataObject type=\"document\" id=\"hibachi\">\n       <Attribute name=\"name\">Dragon</Attribute>\n       <Attribute name=\"review\">3.5</Attribute>\n     </DataObject>\n   </PageMap>\n </url>\n <url>\n   <loc>http://www.example.com/bar</loc>\n   <PageMap xmlns=\"http://www.google.com/schemas/sitemap-pagemap/1.0\">\n     <DataObject type=\"document\" id=\"biggreenegg\">\n       <Attribute name=\"name\">Ribs</Attribute>\n       <Attribute name=\"review\">4.0</Attribute>\n     </DataObject>\n   </PageMap>\n </url>\n</urlset>"
      },
      "date": 1459529665371
    },
    {
      "type": "move",
      "order": [
        "3ea43fd201c94fcc",
        "78f55902a367b41d",
        "e488b46e67cd7812",
        "14d7d49049165f31",
        "139ef09fa45798df",
        "45cac289882ebb84",
        "4126d80b46dfa02c"
      ],
      "id": "14d7d49049165f31",
      "date": 1459529670486
    },
    {
      "type": "add",
      "id": "54de0c2191d0581a",
      "item": {
        "type": "paragraph",
        "id": "54de0c2191d0581a",
        "text": "Specifically you can see that the following [[DataObject]] has been added to the [[PageMap]] element:"
      },
      "after": "e488b46e67cd7812",
      "date": 1459530259649
    },
    {
      "type": "move",
      "order": [
        "3ea43fd201c94fcc",
        "78f55902a367b41d",
        "e488b46e67cd7812",
        "14d7d49049165f31",
        "54de0c2191d0581a",
        "139ef09fa45798df",
        "45cac289882ebb84",
        "4126d80b46dfa02c"
      ],
      "id": "54de0c2191d0581a",
      "date": 1459530263022
    },
    {
      "item": {
        "type": "factory",
        "id": "556192ccf5214174"
      },
      "id": "556192ccf5214174",
      "type": "add",
      "after": "4126d80b46dfa02c",
      "date": 1459530264618
    },
    {
      "type": "move",
      "order": [
        "3ea43fd201c94fcc",
        "78f55902a367b41d",
        "e488b46e67cd7812",
        "14d7d49049165f31",
        "54de0c2191d0581a",
        "556192ccf5214174",
        "139ef09fa45798df",
        "45cac289882ebb84",
        "4126d80b46dfa02c"
      ],
      "id": "556192ccf5214174",
      "date": 1459530266860
    },
    {
      "type": "edit",
      "id": "556192ccf5214174",
      "item": {
        "type": "code",
        "id": "556192ccf5214174",
        "text": "<DataObject type=\"document\" id=\"hibachi\">\n       <Attribute name=\"name\">Dragon</Attribute>\n       <Attribute name=\"review\">3.5</Attribute>\n</DataObject>\n"
      },
      "date": 1459530278215
    },
    {
      "type": "edit",
      "id": "556192ccf5214174",
      "item": {
        "type": "code",
        "id": "556192ccf5214174",
        "text": "<DataObject type=\"document\" id=\"hibachi\">\n    <Attribute name=\"name\">Dragon</Attribute>\n    <Attribute name=\"review\">3.5</Attribute>\n</DataObject>\n"
      },
      "date": 1459530298721
    },
    {
      "type": "edit",
      "id": "556192ccf5214174",
      "item": {
        "type": "code",
        "id": "556192ccf5214174",
        "text": "<DataObject type=\"document\" id=\"hibachi\">\n   <Attribute name=\"name\">Dragon</Attribute>\n   <Attribute name=\"review\">3.5</Attribute>\n</DataObject>\n"
      },
      "date": 1459530306585
    },
    {
      "item": {
        "type": "factory",
        "id": "48d0f026fdd37640"
      },
      "id": "48d0f026fdd37640",
      "type": "add",
      "after": "4126d80b46dfa02c",
      "date": 1459530342824
    },
    {
      "type": "move",
      "order": [
        "3ea43fd201c94fcc",
        "78f55902a367b41d",
        "e488b46e67cd7812",
        "14d7d49049165f31",
        "54de0c2191d0581a",
        "556192ccf5214174",
        "48d0f026fdd37640",
        "139ef09fa45798df",
        "45cac289882ebb84",
        "4126d80b46dfa02c"
      ],
      "id": "48d0f026fdd37640",
      "date": 1459530344686
    },
    {
      "type": "edit",
      "id": "48d0f026fdd37640",
      "item": {
        "type": "code",
        "id": "48d0f026fdd37640",
        "text": "<url>\n    <loc>\n    <PageMap>\n        <DataObject type>\n            <attribute name>"
      },
      "date": 1459530457108
    },
    {
      "item": {
        "type": "factory",
        "id": "8bae2659a394beb4"
      },
      "id": "8bae2659a394beb4",
      "type": "add",
      "after": "4126d80b46dfa02c",
      "date": 1459533111881
    },
    {
      "type": "edit",
      "id": "8bae2659a394beb4",
      "item": {
        "type": "paragraph",
        "id": "8bae2659a394beb4",
        "text": "# Howto"
      },
      "date": 1459533118118
    },
    {
      "type": "edit",
      "id": "8bae2659a394beb4",
      "item": {
        "type": "markdown",
        "id": "8bae2659a394beb4",
        "text": "# Howto"
      },
      "date": 1459533120173
    },
    {
      "type": "add",
      "id": "fa2836c26a2b2c95",
      "item": {
        "type": "paragraph",
        "id": "fa2836c26a2b2c95",
        "text": "Could you try this:\n* Go to the Refinement page and add a refinement\n* Choose \"Give priority to labeled sites\"\n* In the \"Word(s) to add to the search query: (optional)\" text box, enter the PageMap filter you would use for the filtering. For example, something like \"more:pagemap:design-list\"\n* Repeat the above for more refinements with PageMap filters like \"more:pagemap:product-list\" and \"more:page map:product-details\".\n\n"
      },
      "after": "8bae2659a394beb4",
      "date": 1459533169761
    },
    {
      "type": "add",
      "id": "0860b2c80c116c1d",
      "item": {
        "type": "paragraph",
        "id": "0860b2c80c116c1d",
        "text": "£ Demo"
      },
      "after": "fa2836c26a2b2c95",
      "date": 1459533175378
    },
    {
      "type": "add",
      "id": "33fad0af355a9103",
      "item": {
        "type": "paragraph",
        "id": "33fad0af355a9103",
        "text": "This demo (try searching for, say, \"pizza\") was built exactly the same as I described above, so you should be able to do it:\nhttp://googlecustomsearch.appspot.com/demo.html?i=off&cx=000538640564791913793:s6xet5vjgsc"
      },
      "after": "0860b2c80c116c1d",
      "date": 1459533176441
    },
    {
      "type": "edit",
      "id": "0860b2c80c116c1d",
      "item": {
        "type": "paragraph",
        "id": "0860b2c80c116c1d",
        "text": "# Demo"
      },
      "date": 1459533179954
    },
    {
      "type": "edit",
      "id": "0860b2c80c116c1d",
      "item": {
        "type": "markdown",
        "id": "0860b2c80c116c1d",
        "text": "# Demo"
      },
      "date": 1459533181074
    },
    {
      "type": "edit",
      "id": "fa2836c26a2b2c95",
      "item": {
        "type": "markdown",
        "id": "fa2836c26a2b2c95",
        "text": "Could you try this:\n* Go to the Refinement page and add a refinement\n* Choose \"Give priority to labeled sites\"\n* In the \"Word(s) to add to the search query: (optional)\" text box, enter the PageMap filter you would use for the filtering. For example, something like \"more:pagemap:design-list\"\n* Repeat the above for more refinements with PageMap filters like \"more:pagemap:product-list\" and \"more:page map:product-details\".\n\n"
      },
      "date": 1459533183535
    },
    {
      "type": "edit",
      "id": "33fad0af355a9103",
      "item": {
        "type": "paragraph",
        "id": "33fad0af355a9103",
        "text": "This demo (try searching for, say, \"pizza\") was built exactly the same as I described above, so you should be able to do it:\n[http://googlecustomsearch.appspot.com/demo.html?i=off&cx=000538640564791913793:s6xet5vjgsc googlecustomsearch.appspot.com]"
      },
      "date": 1459533203500
    },
    {
      "type": "edit",
      "id": "fa2836c26a2b2c95",
      "item": {
        "type": "markdown",
        "id": "fa2836c26a2b2c95",
        "text": "Could you try this:\n* Go to the [[Refinement Tab]] and add a [[refinement]]\n* Choose \"Give priority to labeled sites\"\n* In the \"Word(s) to add to the search query: (optional)\" text box, enter the PageMap filter you would use for the filtering. For example, something like \"more:pagemap:design-list\"\n* Repeat the above for more refinements with PageMap filters like \"more:pagemap:product-list\" and \"more:page map:product-details\".\n\n"
      },
      "date": 1459533318042
    },
    {
      "type": "edit",
      "id": "fa2836c26a2b2c95",
      "item": {
        "type": "markdown",
        "id": "fa2836c26a2b2c95",
        "text": "Try this:\n* Go to the [[Refinement Tab]] and add a [[refinement]]\n* Choose \"Give priority to labeled sites\"\n* In the \"Word(s) to add to the search query: (optional)\" text box, enter the PageMap filter you would use for the filtering. For example, something like \"more:pagemap:design-list\"\n* Repeat the above for more refinements with PageMap filters like \"more:pagemap:product-list\" and \"more:page map:product-details\".\n\n"
      },
      "date": 1459533326696
    },
    {
      "type": "move",
      "order": [
        "3ea43fd201c94fcc",
        "78f55902a367b41d",
        "fa2836c26a2b2c95",
        "e488b46e67cd7812",
        "14d7d49049165f31",
        "54de0c2191d0581a",
        "556192ccf5214174",
        "48d0f026fdd37640",
        "139ef09fa45798df",
        "45cac289882ebb84",
        "4126d80b46dfa02c",
        "8bae2659a394beb4",
        "0860b2c80c116c1d",
        "33fad0af355a9103"
      ],
      "id": "fa2836c26a2b2c95",
      "date": 1459533349956
    },
    {
      "type": "edit",
      "id": "fa2836c26a2b2c95",
      "item": {
        "type": "markdown",
        "id": "fa2836c26a2b2c95",
        "text": "To add a refinement to custom search using [[pagemaps]] added to the Google Sitempa]], you should::\n* Go to the [[Refinement Tab]] and add a [[refinement]]\n* Choose \"Give priority to labeled sites\"\n* Add something like \"more:pagemap:design-list\"\n* Repeat the above for more refinements\n"
      },
      "date": 1459536241451
    },
    {
      "type": "edit",
      "id": "fa2836c26a2b2c95",
      "item": {
        "type": "markdown",
        "id": "fa2836c26a2b2c95",
        "text": "To add a refinement to custom search using [[PageMaps]] added to the [[Google Sitemap]], you should::\n* Go to the [[Refinement Tab]] and add a [[refinement]]\n* Choose \"Give priority to labeled sites\"\n* Add something like \"more:pagemap:design-list\"\n* Repeat the above for more refinements\n"
      },
      "date": 1459536260194
    },
    {
      "type": "edit",
      "id": "e488b46e67cd7812",
      "item": {
        "type": "paragraph",
        "id": "e488b46e67cd7812",
        "text": "In the \"Word(s) to add to the search query: (optional)\" text box, enter the PageMap filter you would use for the filtering. For example, \n\n with PageMap filters like \"more:pagemap:product-list\" and \"more:page map:product-details\".\n"
      },
      "date": 1459536276538
    },
    {
      "type": "add",
      "id": "c2d7106ba92d1e6b",
      "item": {
        "type": "paragraph",
        "id": "c2d7106ba92d1e6b",
        "text": "Here's an example of a Sitemap that includes PageMap information for two URLs: http://www.example.com/foo and http://www.example.com/bar."
      },
      "after": "e488b46e67cd7812",
      "date": 1459536278584
    },
    {
      "type": "edit",
      "id": "e488b46e67cd7812",
      "item": {
        "type": "paragraph",
        "id": "e488b46e67cd7812",
        "text": "You add the text <code>afds</code> to the \"Word(s) to add to the search query: (optional)\" text box.\n"
      },
      "date": 1459536352100
    },
    {
      "type": "edit",
      "id": "e488b46e67cd7812",
      "item": {
        "type": "paragraph",
        "id": "e488b46e67cd7812",
        "text": "You add the text <code>more:pagemap:design-list</code> to the \"Word(s) to add to the search query: (optional)\" text box.\n"
      },
      "date": 1459536362724
    },
    {
      "type": "edit",
      "id": "e488b46e67cd7812",
      "item": {
        "type": "markdown",
        "id": "e488b46e67cd7812",
        "text": "You add the text <code>more:pagemap:design-list</code> to the \"Word(s) to add to the search query: (optional)\" text box.\n"
      },
      "date": 1459536363576
    },
    {
      "type": "remove",
      "id": "e488b46e67cd7812",
      "date": 1459536371163
    },
    {
      "item": {
        "type": "factory",
        "id": "0e7a3443788986cf"
      },
      "id": "0e7a3443788986cf",
      "type": "add",
      "after": "33fad0af355a9103",
      "date": 1459536374643
    },
    {
      "type": "edit",
      "id": "0e7a3443788986cf",
      "item": {
        "type": "html",
        "id": "0e7a3443788986cf",
        "text": "You add the text <code>more:pagemap:design-list</code> to the \"Word(s) to add to the search query: (optional)\" text box.\n"
      },
      "date": 1459536378119
    },
    {
      "type": "move",
      "order": [
        "3ea43fd201c94fcc",
        "78f55902a367b41d",
        "fa2836c26a2b2c95",
        "0e7a3443788986cf",
        "c2d7106ba92d1e6b",
        "14d7d49049165f31",
        "54de0c2191d0581a",
        "556192ccf5214174",
        "48d0f026fdd37640",
        "139ef09fa45798df",
        "45cac289882ebb84",
        "4126d80b46dfa02c",
        "8bae2659a394beb4",
        "0860b2c80c116c1d",
        "33fad0af355a9103"
      ],
      "id": "0e7a3443788986cf",
      "date": 1459536384063
    },
    {
      "type": "edit",
      "id": "fa2836c26a2b2c95",
      "item": {
        "type": "markdown",
        "id": "fa2836c26a2b2c95",
        "text": "To add a refinement to custom search using [[PageMaps]] added to the [[Google Sitemap]], you should::\n* Go to the [[Refinement Tab]] and add a [[refinement]]\n* Choose \"Give priority to labeled sites\"\n* Add something like \"more:pagemap:books\"\n* Repeat the above for more refinements\n"
      },
      "date": 1459536412822
    },
    {
      "type": "edit",
      "id": "0e7a3443788986cf",
      "item": {
        "type": "html",
        "id": "0e7a3443788986cf",
        "text": "You add the text <code>more:pagemap:books</code> to the \"Word(s) to add to the search query: (optional)\" text box.\n"
      },
      "date": 1459536451415
    },
    {
      "type": "edit",
      "id": "0e7a3443788986cf",
      "item": {
        "type": "html",
        "id": "0e7a3443788986cf",
        "text": "You add the text <code>more:pagemap:books</code> to the \"Word(s) to add to the search query: (optional)\" text box."
      },
      "date": 1459536512833
    },
    {
      "type": "edit",
      "id": "c2d7106ba92d1e6b",
      "item": {
        "type": "paragraph",
        "id": "c2d7106ba92d1e6b",
        "text": "# Adding the Pagemap to the Sitemap\n"
      },
      "date": 1459536517079
    },
    {
      "type": "edit",
      "id": "c2d7106ba92d1e6b",
      "item": {
        "type": "markdown",
        "id": "c2d7106ba92d1e6b",
        "text": "# Adding the Pagemap to the Sitemap\n"
      },
      "date": 1459536519063
    },
    {
      "type": "add",
      "id": "102f832e2959ea2c",
      "item": {
        "type": "paragraph",
        "id": "102f832e2959ea2c",
        "text": "Here's an example of a Sitemap that includes PageMap information for two URLs: http://www.example.com/foo and http://www.example.com/bar."
      },
      "after": "c2d7106ba92d1e6b",
      "date": 1459536525288
    },
    {
      "type": "move",
      "order": [
        "3ea43fd201c94fcc",
        "78f55902a367b41d",
        "fa2836c26a2b2c95",
        "0e7a3443788986cf",
        "c2d7106ba92d1e6b",
        "48d0f026fdd37640",
        "102f832e2959ea2c",
        "14d7d49049165f31",
        "54de0c2191d0581a",
        "556192ccf5214174",
        "139ef09fa45798df",
        "45cac289882ebb84",
        "4126d80b46dfa02c",
        "8bae2659a394beb4",
        "0860b2c80c116c1d",
        "33fad0af355a9103"
      ],
      "id": "48d0f026fdd37640",
      "date": 1459536530560
    },
    {
      "type": "edit",
      "id": "102f832e2959ea2c",
      "item": {
        "type": "paragraph",
        "id": "102f832e2959ea2c",
        "text": "The first thing to do is to customise each url entry in the plain [[Google Sitemap]] with an extra <PageMap> tag."
      },
      "date": 1459536602809
    },
    {
      "type": "add",
      "id": "7a0ba892fae0a474",
      "item": {
        "type": "paragraph",
        "id": "7a0ba892fae0a474",
        "text": "Here's an example of a Sitemap that includes PageMap information for two URLs: http://www.example.com/foo and http://www.example.com/bar."
      },
      "after": "102f832e2959ea2c",
      "date": 1459536604779
    },
    {
      "type": "move",
      "order": [
        "3ea43fd201c94fcc",
        "78f55902a367b41d",
        "fa2836c26a2b2c95",
        "0e7a3443788986cf",
        "c2d7106ba92d1e6b",
        "102f832e2959ea2c",
        "48d0f026fdd37640",
        "7a0ba892fae0a474",
        "14d7d49049165f31",
        "54de0c2191d0581a",
        "556192ccf5214174",
        "139ef09fa45798df",
        "45cac289882ebb84",
        "4126d80b46dfa02c",
        "8bae2659a394beb4",
        "0860b2c80c116c1d",
        "33fad0af355a9103"
      ],
      "id": "102f832e2959ea2c",
      "date": 1459536610650
    },
    {
      "type": "edit",
      "id": "7a0ba892fae0a474",
      "item": {
        "type": "paragraph",
        "id": "7a0ba892fae0a474",
        "text": "Below is an example of a Sitemap that includes PageMap information for two URLs: * http://www.example.com/foo and * http://www.example.com/bar."
      },
      "date": 1459536631667
    },
    {
      "type": "edit",
      "id": "7a0ba892fae0a474",
      "item": {
        "type": "markdown",
        "id": "7a0ba892fae0a474",
        "text": "Below is an example of a Sitemap that includes PageMap information for two URLs: * http://www.example.com/foo and * http://www.example.com/bar."
      },
      "date": 1459536632472
    },
    {
      "type": "edit",
      "id": "7a0ba892fae0a474",
      "item": {
        "type": "markdown",
        "id": "7a0ba892fae0a474",
        "text": "Below is an example of a Sitemap that includes PageMap information for two URLs: \n* http://www.example.com/foo and\n* http://www.example.com/bar."
      },
      "date": 1459536642340
    },
    {
      "type": "remove",
      "id": "8bae2659a394beb4",
      "date": 1459536859912
    },
    {
      "type": "add",
      "id": "206715dbcc704d5e",
      "item": {
        "type": "paragraph",
        "id": "206715dbcc704d5e",
        "text": "Suppose you've defined PageMaps with a \"pagetype\" attribute as in this example:\n\n  <!--\n    <PageMap>\n      <DataObject type=\"document\">\n        <Attribute name=\"pagetype\">Product Details</Attribute>\n      </DataObject>\n    </PageMap>\n  -->\n\nYou can create a refinement with a \"rewrite\" (query addition) using the \"more:\" operator to match an attribute value:\n\n  more:pagemap:document-pagetype:Product*Details\n\nIn that example the asterisk allows the single \"more:\" operator to match the two words in the attribute value.\n\nOf course alternatively you could omit the space in the attribute value in the pagemap (e.g. \"ProductDetails\") in which case you wouldn't need to use the asterisk syntax in the query.\n\nThe 'asterisk syntax' might not yet be described in documentation, but hxu-cse mentioned it in another discussion:\n\nhttps://groups.google.com/a/googleproductforums.com/d/msg/customsearch/xiHI497NOLM/e6MX6gaMayIJ\n\n_________________________\n\nYou've already read the relevant documentation but I'll include these reference links for other readers:\n\nIn the Structured Search documentation  (formerly titled \"Drilling deeper into search results\", recently revised and now titled \"Filtering and sorting search results\"),  see the \"Web search\" section's \"Filter by Attribute\" subsection:\n\nhttp://code.google.com/apis/customsearch/docs/structured_search.html#filter_by_attribute\n\nFor information on how to provide structured data (PageMaps etc.) see:\n\nhttp://code.google.com/apis/customsearch/docs/structured_data.html\n\n_________________________\n\nIf you plan to use the CSE Control Panel to create your refinements, hxu-cse has explained how to proceed.  (I'll recap and add a note.)\n\nOn the Refinements page of the control panel, click \"Add Refinement\".  Specify the refinement name (such as \"Product Details\").  Specify your query addition in the box labeled \"Word(s) to add to the search query\".  Select \"Give priority to labeled sites\" (to set your refinement label to \"BOOST\" mode).\n\n(Note:  The \"Search only selected sites\" setting, which selects \"FILTER\" mode, would not be suitable in this case, because you're not associating labels with annotation subsets for filtering purposes.)\n\n\nIf you prefer to define your refinements by editing the XML specification (context file) of your CSE:\n\nDefine your refinements in \"Facet\" & \"FacetItem\" XML elements as described in documentation.  In each rewrite refinement's \"Label\" element, set the \"mode\" attribute to \"BOOST\".  Specify your query addition in a \"Rewrite\" element.  See XML examples under \"Creating Refinement Labels\" and \"Appending Search Queries with Refinement Labels\" at:\n\nhttp://code.google.com/apis/customsearch/docs/refinements.html#create\nhttp://code.google.com/apis/customsearch/docs/queries.html#rewrite"
      },
      "after": "102f832e2959ea2c",
      "date": 1459536877124
    },
    {
      "type": "move",
      "order": [
        "3ea43fd201c94fcc",
        "78f55902a367b41d",
        "fa2836c26a2b2c95",
        "0e7a3443788986cf",
        "c2d7106ba92d1e6b",
        "102f832e2959ea2c",
        "48d0f026fdd37640",
        "206715dbcc704d5e",
        "7a0ba892fae0a474",
        "14d7d49049165f31",
        "54de0c2191d0581a",
        "556192ccf5214174",
        "139ef09fa45798df",
        "45cac289882ebb84",
        "4126d80b46dfa02c",
        "0860b2c80c116c1d",
        "33fad0af355a9103"
      ],
      "id": "48d0f026fdd37640",
      "date": 1459536894281
    },
    {
      "type": "edit",
      "id": "206715dbcc704d5e",
      "item": {
        "type": "paragraph",
        "id": "206715dbcc704d5e",
        "text": "Suppose you've defined PageMaps with a \"pagetype\" attribute as in this example:"
      },
      "date": 1459536921338
    },
    {
      "type": "add",
      "id": "78016eb0a0a9b101",
      "item": {
        "type": "paragraph",
        "id": "78016eb0a0a9b101",
        "text": "You can create a refinement with a \"rewrite\" (query addition) using the \"more:\" operator to match an attribute value:"
      },
      "after": "206715dbcc704d5e",
      "date": 1459536939650
    },
    {
      "type": "add",
      "id": "ef0aafa9611c8ccf",
      "item": {
        "type": "paragraph",
        "id": "ef0aafa9611c8ccf",
        "text": "\n  more:pagemap:document-pagetype:Product*Details\n\n"
      },
      "after": "78016eb0a0a9b101",
      "date": 1459536942138
    },
    {
      "type": "add",
      "id": "b346aa17f8183d00",
      "item": {
        "type": "paragraph",
        "id": "b346aa17f8183d00",
        "text": "In that example the asterisk allows the single \"more:\" operator to match the two words in the attribute value."
      },
      "after": "ef0aafa9611c8ccf",
      "date": 1459536943610
    },
    {
      "type": "add",
      "id": "f88123c3d18715f0",
      "item": {
        "type": "paragraph",
        "id": "f88123c3d18715f0",
        "text": "Of course alternatively you could omit the space in the attribute value in the pagemap (e.g. \"ProductDetails\") in which case you wouldn't need to use the asterisk syntax in the query."
      },
      "after": "b346aa17f8183d00",
      "date": 1459536947810
    },
    {
      "type": "add",
      "id": "4d4270f53ed31a7f",
      "item": {
        "type": "paragraph",
        "id": "4d4270f53ed31a7f",
        "text": "The 'asterisk syntax' might not yet be described in documentation, but hxu-cse mentioned it in another discussion - [https://groups.google.com/a/googleproductforums.com/d/msg/customsearch/xiHI497NOLM/e6MX6gaMayIJ groups.google.com]"
      },
      "after": "f88123c3d18715f0",
      "date": 1459536972036
    },
    {
      "type": "add",
      "id": "728377d716b7bf57",
      "item": {
        "type": "paragraph",
        "id": "728377d716b7bf57",
        "text": "You've already read the relevant documentation but I'll include these reference links for other readers:\n\nIn the Structured Search documentation  (formerly titled \"Drilling deeper into search results\", recently revised and now titled \"Filtering and sorting search results\"),  see the \"Web search\" section's \"Filter by Attribute\" subsection:\n\nhttp://code.google.com/apis/customsearch/docs/structured_search.html#filter_by_attribute\n\nFor information on how to provide structured data (PageMaps etc.) see:\n\nhttp://code.google.com/apis/customsearch/docs/structured_data.html"
      },
      "after": "4d4270f53ed31a7f",
      "date": 1459536989884
    },
    {
      "type": "add",
      "id": "800af399c8c9203f",
      "item": {
        "type": "paragraph",
        "id": "800af399c8c9203f",
        "text": "If you plan to use the CSE Control Panel to create your refinements, up can:\n\nOn the Refinements page of the control panel, click \"Add Refinement\".  Specify the refinement name (such as \"Product Details\").  Specify your query addition in the box labeled \"Word(s) to add to the search query\".  Select \"Give priority to labeled sites\" (to set your refinement label to \"BOOST\" mode).\n\n(Note:  The \"Search only selected sites\" setting, which selects \"FILTER\" mode, would not be suitable in this case, because you're not associating labels with annotation subsets for filtering purposes.)\n\n\n"
      },
      "after": "728377d716b7bf57",
      "date": 1459537018724
    },
    {
      "type": "add",
      "id": "46e39d56692caa25",
      "item": {
        "type": "paragraph",
        "id": "46e39d56692caa25",
        "text": "If you prefer to define your refinements by editing the XML specification (context file) of your CSE:\n\nDefine your refinements in \"Facet\" & \"FacetItem\" XML elements as described in documentation.  In each rewrite refinement's \"Label\" element, set the \"mode\" attribute to \"BOOST\".  Specify your query addition in a \"Rewrite\" element.  See XML examples under \"Creating Refinement Labels\" and \"Appending Search Queries with Refinement Labels\" at:\n\nhttp://code.google.com/apis/customsearch/docs/refinements.html#create\nhttp://code.google.com/apis/customsearch/docs/queries.html#rewrite"
      },
      "after": "800af399c8c9203f",
      "date": 1459537025198
    },
    {
      "item": {
        "type": "factory",
        "id": "682552757f7709be"
      },
      "id": "682552757f7709be",
      "type": "add",
      "after": "33fad0af355a9103",
      "date": 1459537028182
    },
    {
      "type": "edit",
      "id": "682552757f7709be",
      "item": {
        "type": "code",
        "id": "682552757f7709be",
        "text": "<PageMap>\n      <DataObject type=\"document\">\n        <Attribute name=\"pagetype\">Product Details</Attribute>\n      </DataObject>\n</PageMap>\n"
      },
      "date": 1459537043248
    },
    {
      "type": "move",
      "order": [
        "3ea43fd201c94fcc",
        "78f55902a367b41d",
        "fa2836c26a2b2c95",
        "0e7a3443788986cf",
        "c2d7106ba92d1e6b",
        "102f832e2959ea2c",
        "48d0f026fdd37640",
        "206715dbcc704d5e",
        "682552757f7709be",
        "78016eb0a0a9b101",
        "ef0aafa9611c8ccf",
        "b346aa17f8183d00",
        "f88123c3d18715f0",
        "4d4270f53ed31a7f",
        "728377d716b7bf57",
        "800af399c8c9203f",
        "46e39d56692caa25",
        "7a0ba892fae0a474",
        "14d7d49049165f31",
        "54de0c2191d0581a",
        "556192ccf5214174",
        "139ef09fa45798df",
        "45cac289882ebb84",
        "4126d80b46dfa02c",
        "0860b2c80c116c1d",
        "33fad0af355a9103"
      ],
      "id": "682552757f7709be",
      "date": 1459537052382
    },
    {
      "type": "edit",
      "id": "c2d7106ba92d1e6b",
      "item": {
        "type": "markdown",
        "id": "c2d7106ba92d1e6b",
        "text": "# [[Add PageMap to the Sitemap]]\n"
      },
      "date": 1459537097897
    },
    {
      "type": "remove",
      "id": "206715dbcc704d5e",
      "date": 1459537111704
    },
    {
      "type": "remove",
      "id": "682552757f7709be",
      "date": 1459537115117
    },
    {
      "type": "remove",
      "id": "78016eb0a0a9b101",
      "date": 1459537119397
    },
    {
      "type": "remove",
      "id": "ef0aafa9611c8ccf",
      "date": 1459537125893
    },
    {
      "type": "remove",
      "id": "b346aa17f8183d00",
      "date": 1459537198295
    },
    {
      "type": "remove",
      "id": "f88123c3d18715f0",
      "date": 1459537203998
    },
    {
      "type": "remove",
      "id": "4d4270f53ed31a7f",
      "date": 1459537209816
    },
    {
      "type": "remove",
      "id": "728377d716b7bf57",
      "date": 1459537221050
    },
    {
      "type": "edit",
      "id": "800af399c8c9203f",
      "item": {
        "type": "paragraph",
        "id": "800af399c8c9203f",
        "text": "Using CSE Control Panel to create Refinements"
      },
      "date": 1459537334140
    },
    {
      "type": "add",
      "id": "19e911c499e509cf",
      "item": {
        "type": "paragraph",
        "id": "19e911c499e509cf",
        "text": "On the Refinements page of the control panel, click \"Add Refinement\".  Specify the refinement name (such as \"Product Details\").  Specify your query addition in the box labeled \"Word(s) to add to the search query\".  Select \"Give priority to labeled sites\" (to set your refinement label to \"BOOST\" mode).\n\n(Note:  The \"Search only selected sites\" setting, which selects \"FILTER\" mode, would not be suitable in this case, because you're not associating labels with annotation subsets for filtering purposes.)"
      },
      "after": "800af399c8c9203f",
      "date": 1459537336001
    },
    {
      "type": "edit",
      "id": "800af399c8c9203f",
      "item": {
        "type": "paragraph",
        "id": "800af399c8c9203f",
        "text": "[[Create Refinements with CSE Control Panel]] "
      },
      "date": 1459537361127
    },
    {
      "item": {
        "type": "factory",
        "id": "39fce86f9a41a13e"
      },
      "id": "39fce86f9a41a13e",
      "type": "add",
      "after": "33fad0af355a9103",
      "date": 1459537369188
    },
    {
      "type": "edit",
      "id": "39fce86f9a41a13e",
      "item": {
        "type": "reference",
        "id": "39fce86f9a41a13e",
        "site": "dev.himalayan.academy",
        "slug": "add-pagemap-to-the-sitemap",
        "title": "Add PageMap to the Sitemap",
        "text": "Suppose you've defined PageMaps with a \"pagetype\" attribute as in this example:"
      },
      "date": 1459537371038
    },
    {
      "type": "move",
      "order": [
        "3ea43fd201c94fcc",
        "78f55902a367b41d",
        "fa2836c26a2b2c95",
        "0e7a3443788986cf",
        "39fce86f9a41a13e",
        "c2d7106ba92d1e6b",
        "102f832e2959ea2c",
        "48d0f026fdd37640",
        "800af399c8c9203f",
        "19e911c499e509cf",
        "46e39d56692caa25",
        "7a0ba892fae0a474",
        "14d7d49049165f31",
        "54de0c2191d0581a",
        "556192ccf5214174",
        "139ef09fa45798df",
        "45cac289882ebb84",
        "4126d80b46dfa02c",
        "0860b2c80c116c1d",
        "33fad0af355a9103"
      ],
      "id": "39fce86f9a41a13e",
      "date": 1459537376975
    },
    {
      "type": "remove",
      "id": "c2d7106ba92d1e6b",
      "date": 1459537379838
    },
    {
      "type": "edit",
      "id": "800af399c8c9203f",
      "item": {
        "type": "paragraph",
        "id": "800af399c8c9203f",
        "text": "[[Create Refinements with Control Panel]] "
      },
      "date": 1459537392807
    },
    {
      "type": "edit",
      "id": "800af399c8c9203f",
      "item": {
        "type": "paragraph",
        "id": "800af399c8c9203f",
        "text": "[[Create Refinements Labels]] "
      },
      "date": 1459537420449
    },
    {
      "type": "remove",
      "id": "19e911c499e509cf",
      "date": 1459537446841
    },
    {
      "type": "remove",
      "id": "46e39d56692caa25",
      "date": 1459537452683
    },
    {
      "type": "edit",
      "id": "7a0ba892fae0a474",
      "item": {
        "type": "markdown",
        "id": "7a0ba892fae0a474",
        "text": "Below is an example of a Sitemap that includes [[PageMap]] information for two URLs: \n* http://www.example.com/foo and\n* http://www.example.com/bar."
      },
      "date": 1459537472435
    },
    {
      "item": {
        "type": "factory",
        "id": "531a6d4c0a381164"
      },
      "id": "531a6d4c0a381164",
      "type": "add",
      "after": "33fad0af355a9103",
      "date": 1459537629528
    },
    {
      "type": "edit",
      "id": "531a6d4c0a381164",
      "item": {
        "type": "reference",
        "id": "531a6d4c0a381164",
        "site": "dev.himalayan.academy",
        "slug": "create-refinements-labels",
        "title": "Create Refinements Labels",
        "text": "There are two ways to create the refinements lables that show up in the custom search pane, first by using the [[Control Panel]], and second by editing and then submitting a specialised XML file. "
      },
      "date": 1459537631453
    },
    {
      "type": "move",
      "order": [
        "3ea43fd201c94fcc",
        "78f55902a367b41d",
        "fa2836c26a2b2c95",
        "0e7a3443788986cf",
        "39fce86f9a41a13e",
        "531a6d4c0a381164",
        "102f832e2959ea2c",
        "48d0f026fdd37640",
        "800af399c8c9203f",
        "7a0ba892fae0a474",
        "14d7d49049165f31",
        "54de0c2191d0581a",
        "556192ccf5214174",
        "139ef09fa45798df",
        "45cac289882ebb84",
        "4126d80b46dfa02c",
        "0860b2c80c116c1d",
        "33fad0af355a9103"
      ],
      "id": "531a6d4c0a381164",
      "date": 1459537639634
    },
    {
      "type": "remove",
      "id": "7a0ba892fae0a474",
      "date": 1459543615274
    },
    {
      "type": "remove",
      "id": "14d7d49049165f31",
      "date": 1459543628683
    },
    {
      "type": "remove",
      "id": "54de0c2191d0581a",
      "date": 1459543640496
    },
    {
      "type": "remove",
      "id": "556192ccf5214174",
      "date": 1459543643458
    },
    {
      "type": "remove",
      "id": "139ef09fa45798df",
      "date": 1459543691078
    },
    {
      "type": "remove",
      "id": "45cac289882ebb84",
      "date": 1459543693888
    },
    {
      "type": "remove",
      "id": "4126d80b46dfa02c",
      "date": 1459543697373
    },
    {
      "item": {
        "type": "factory",
        "id": "702749a4ad81a35f"
      },
      "id": "702749a4ad81a35f",
      "type": "add",
      "after": "33fad0af355a9103",
      "date": 1459543702922
    },
    {
      "type": "edit",
      "id": "702749a4ad81a35f",
      "item": {
        "type": "reference",
        "id": "702749a4ad81a35f",
        "site": "dev.himalayan.academy",
        "slug": "pagemap",
        "title": "PageMap",
        "text": "The <PageMap> tag wraps one or more [[DataObject]] tags, in a [[Google Sitemap]] or the markup fo an HTML page."
      },
      "date": 1459543704884
    },
    {
      "type": "move",
      "order": [
        "3ea43fd201c94fcc",
        "78f55902a367b41d",
        "fa2836c26a2b2c95",
        "0e7a3443788986cf",
        "39fce86f9a41a13e",
        "531a6d4c0a381164",
        "102f832e2959ea2c",
        "48d0f026fdd37640",
        "702749a4ad81a35f",
        "800af399c8c9203f",
        "0860b2c80c116c1d",
        "33fad0af355a9103"
      ],
      "id": "702749a4ad81a35f",
      "date": 1459543708275
    },
    {
      "item": {
        "type": "factory",
        "id": "80cd2a3abecbed2f"
      },
      "id": "80cd2a3abecbed2f",
      "type": "add",
      "after": "33fad0af355a9103",
      "date": 1459543726639
    },
    {
      "type": "edit",
      "id": "80cd2a3abecbed2f",
      "item": {
        "type": "reference",
        "id": "80cd2a3abecbed2f",
        "site": "dev.himalayan.academy",
        "slug": "create-refinements-labels",
        "title": "Create Refinements Labels",
        "text": "There are two ways to create the refinements lables that show up in the custom search pane, first by using the [[Control Panel]], and second by editing and then submitting a specialised XML file. "
      },
      "date": 1459543728742
    },
    {
      "type": "remove",
      "id": "800af399c8c9203f",
      "date": 1459543735020
    },
    {
      "type": "move",
      "order": [
        "3ea43fd201c94fcc",
        "78f55902a367b41d",
        "fa2836c26a2b2c95",
        "0e7a3443788986cf",
        "39fce86f9a41a13e",
        "531a6d4c0a381164",
        "102f832e2959ea2c",
        "48d0f026fdd37640",
        "702749a4ad81a35f",
        "80cd2a3abecbed2f",
        "0860b2c80c116c1d",
        "33fad0af355a9103"
      ],
      "id": "80cd2a3abecbed2f",
      "date": 1459543737519
    },
    {
      "type": "remove",
      "id": "80cd2a3abecbed2f",
      "date": 1459543743188
    },
    {
      "type": "move",
      "order": [
        "3ea43fd201c94fcc",
        "78f55902a367b41d",
        "fa2836c26a2b2c95",
        "0e7a3443788986cf",
        "102f832e2959ea2c",
        "39fce86f9a41a13e",
        "531a6d4c0a381164",
        "48d0f026fdd37640",
        "702749a4ad81a35f",
        "0860b2c80c116c1d",
        "33fad0af355a9103"
      ],
      "id": "102f832e2959ea2c",
      "date": 1459543754972
    },
    {
      "type": "move",
      "order": [
        "3ea43fd201c94fcc",
        "78f55902a367b41d",
        "fa2836c26a2b2c95",
        "0e7a3443788986cf",
        "102f832e2959ea2c",
        "48d0f026fdd37640",
        "39fce86f9a41a13e",
        "531a6d4c0a381164",
        "702749a4ad81a35f",
        "0860b2c80c116c1d",
        "33fad0af355a9103"
      ],
      "id": "48d0f026fdd37640",
      "date": 1459543760726
    },
    {
      "type": "edit",
      "id": "102f832e2959ea2c",
      "item": {
        "type": "paragraph",
        "id": "102f832e2959ea2c",
        "text": "The first thing to do is to customise each url entry in the plain [[Google Sitemap]] with an extra [[<PageMap>]] tag."
      },
      "date": 1459543786790
    },
    {
      "type": "move",
      "order": [
        "3ea43fd201c94fcc",
        "78f55902a367b41d",
        "fa2836c26a2b2c95",
        "0e7a3443788986cf",
        "102f832e2959ea2c",
        "48d0f026fdd37640",
        "39fce86f9a41a13e",
        "531a6d4c0a381164",
        "0860b2c80c116c1d",
        "33fad0af355a9103",
        "702749a4ad81a35f"
      ],
      "id": "702749a4ad81a35f",
      "date": 1459617315714
    },
    {
      "type": "edit",
      "id": "3ea43fd201c94fcc",
      "item": {
        "type": "paragraph",
        "id": "3ea43fd201c94fcc",
        "text": "You can create [[refinement labels]] and tag sites with them in the [[Refinements Tab]] of the [[CSE Control Panel]], but you can have greater control over the ranking if you are using the [[Custom Search XML Annotations]] file. "
      },
      "date": 1459779117893
    },
    {
      "type": "edit",
      "id": "3ea43fd201c94fcc",
      "item": {
        "type": "paragraph",
        "id": "3ea43fd201c94fcc",
        "text": "You can create [[refinement]] labels and tag sites with them in the [[Refinements Tab]] of the [[CSE Control Panel]], but you can have greater control over the ranking if you are using the [[Custom Search XML Annotations]] file. "
      },
      "date": 1459779167862
    },
    {
      "type": "fork",
      "site": "dev.himalayan.academy",
      "date": 1489219669444
    },
    {
      "type": "fork",
      "site": "c0de.academy",
      "date": 1512337093514
    }
  ]
}