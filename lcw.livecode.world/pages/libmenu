{
  "title": "lib_Menu",
  "story": [
    {
      "type": "paragraph",
      "id": "c47e11457dec9821",
      "text": "Menus are an important and powerful component of Livecode World.  They enable rapid visual coding without the need to develop GUI elements, and also encourage structural thinking, separation of concerns, and the ability to share code."
    },
    {
      "type": "markdown",
      "id": "e4858bfd1f725539",
      "text": "They are the:\n\n* Fastest way to sketch out ideas in code\n* Core to the [[MVC]] architecture\n* Important for re-use and learning\n"
    },
    {
      "type": "markdown",
      "id": "761e513c3fc2a886",
      "text": "# Global and local scope\n\nThere are two types of menu - [[Global Menus]] and [[Local Menus]]. Local menus can be called anything without clashing with a global namespace."
    },
    {
      "type": "markdown",
      "id": "a3573150f32b2778",
      "text": "# Indexing menus"
    },
    {
      "type": "paragraph",
      "id": "4ab9cea7bf9c6f79",
      "text": "Menus are indexed in two ways according to their scope. Local menus are stored in a local custom property while global menus are stored in a flat global array."
    },
    {
      "type": "markdown",
      "id": "7a2e09db783da76c",
      "text": "The indexes are created using [[script_UpdateMenus]] command. This command contains the following key handlers:\n\n* [[script_MenuTitleTableArray]]\n* [[menu_DataArray]]\n* [[menu_SetGlobalTable]]"
    },
    {
      "type": "markdown",
      "id": "bef264308d1c7679",
      "text": "# Menus are MVC Controllers\n\nAs you can see from the folder structure of LCW, [[Menu Stacks]] are stored in a standard folder called [[Controllers]]. This is because LCW considers all menus to be effectively a [[Livecode MVC Controller]]."
    },
    {
      "type": "markdown",
      "id": "6ea6d0a5eaa617d1",
      "text": "# "
    }
  ],
  "journal": [
    {
      "type": "create",
      "item": {
        "title": "lib_Menu",
        "story": []
      },
      "date": 1471250555466
    },
    {
      "item": {
        "type": "factory",
        "id": "e4858bfd1f725539"
      },
      "id": "e4858bfd1f725539",
      "type": "add",
      "date": 1471250557148
    },
    {
      "type": "edit",
      "id": "e4858bfd1f725539",
      "item": {
        "type": "paragraph",
        "id": "e4858bfd1f725539",
        "text": "Menus are an important and powerful component of Livecode World. They are:* the fastest way to sketch out ideas in code"
      },
      "date": 1471250632639
    },
    {
      "type": "edit",
      "id": "e4858bfd1f725539",
      "item": {
        "type": "markdown",
        "id": "e4858bfd1f725539",
        "text": "Menus are an important and powerful component of Livecode World. They are:* the fastest way to sketch out ideas in code"
      },
      "date": 1471250633641
    },
    {
      "item": {
        "type": "factory",
        "id": "c47e11457dec9821"
      },
      "id": "c47e11457dec9821",
      "type": "add",
      "after": "e4858bfd1f725539",
      "date": 1471250708909
    },
    {
      "type": "move",
      "order": [
        "c47e11457dec9821",
        "e4858bfd1f725539"
      ],
      "id": "c47e11457dec9821",
      "date": 1471250711255
    },
    {
      "type": "edit",
      "id": "e4858bfd1f725539",
      "item": {
        "type": "markdown",
        "id": "e4858bfd1f725539",
        "text": "They are the:\n\n* Fastest way to sketch out ideas in code\n* Core to the [[MVC]] architecture\n* Important for re-use and learning\n"
      },
      "date": 1471250712381
    },
    {
      "type": "edit",
      "id": "c47e11457dec9821",
      "item": {
        "type": "paragraph",
        "id": "c47e11457dec9821",
        "text": "Menus are an important and powerful component of Livecode World.  They enable rapid visual coding without the need to develop GUI elements, and also encourage structural thinking, separation of concerns, and the ability to share code."
      },
      "date": 1471250785131
    },
    {
      "item": {
        "type": "factory",
        "id": "761e513c3fc2a886"
      },
      "id": "761e513c3fc2a886",
      "type": "add",
      "after": "e4858bfd1f725539",
      "date": 1471250790055
    },
    {
      "type": "edit",
      "id": "761e513c3fc2a886",
      "item": {
        "type": "markdown",
        "id": "761e513c3fc2a886",
        "text": "# Global and local scope\n\nThere are two types of menu - [[Global Menus]] and [[Local Menus]]. Local menus can be called anything without clashing with a global namespace."
      },
      "date": 1471250907447
    },
    {
      "item": {
        "type": "factory",
        "id": "a3573150f32b2778"
      },
      "id": "a3573150f32b2778",
      "type": "add",
      "after": "761e513c3fc2a886",
      "date": 1471250917244
    },
    {
      "item": {
        "type": "factory",
        "id": "bef264308d1c7679"
      },
      "id": "bef264308d1c7679",
      "type": "add",
      "after": "a3573150f32b2778",
      "date": 1471250981637
    },
    {
      "type": "edit",
      "id": "bef264308d1c7679",
      "item": {
        "type": "markdown",
        "id": "bef264308d1c7679",
        "text": "# Menus are MVC Controllers\n\nAs you can see from the folder structure of LCW, [[Menu Stacks]] are stored in a standard folder called [[Controllers]]. This is because LCW considers all menus to be effectively a [[Livecode MVC Controller]]."
      },
      "date": 1471251141662
    },
    {
      "item": {
        "type": "factory",
        "id": "6ea6d0a5eaa617d1"
      },
      "id": "6ea6d0a5eaa617d1",
      "type": "add",
      "after": "bef264308d1c7679",
      "date": 1471251150987
    },
    {
      "type": "edit",
      "id": "6ea6d0a5eaa617d1",
      "item": {
        "type": "markdown",
        "id": "6ea6d0a5eaa617d1",
        "text": "# "
      },
      "date": 1471252354996
    },
    {
      "type": "edit",
      "id": "a3573150f32b2778",
      "item": {
        "type": "paragraph",
        "id": "a3573150f32b2778",
        "text": "# Indexing menus"
      },
      "date": 1471253221030
    },
    {
      "type": "add",
      "id": "4ab9cea7bf9c6f79",
      "item": {
        "type": "paragraph",
        "id": "4ab9cea7bf9c6f79",
        "text": "Menus are indexed in two ways according to their scope. Local menus are stored in a local custom property while global menus are stored in a flat global array."
      },
      "after": "a3573150f32b2778",
      "date": 1471253263920
    },
    {
      "type": "add",
      "id": "7a2e09db783da76c",
      "item": {
        "type": "paragraph",
        "id": "7a2e09db783da76c",
        "text": "The indexes are created using:"
      },
      "after": "4ab9cea7bf9c6f79",
      "date": 1471253273562
    },
    {
      "type": "edit",
      "id": "a3573150f32b2778",
      "item": {
        "type": "markdown",
        "id": "a3573150f32b2778",
        "text": "# Indexing menus"
      },
      "date": 1471253274624
    },
    {
      "item": {
        "type": "factory",
        "id": "57770a94d868c606"
      },
      "id": "57770a94d868c606",
      "type": "add",
      "after": "6ea6d0a5eaa617d1",
      "date": 1471253275782
    },
    {
      "type": "move",
      "order": [
        "c47e11457dec9821",
        "e4858bfd1f725539",
        "761e513c3fc2a886",
        "a3573150f32b2778",
        "4ab9cea7bf9c6f79",
        "7a2e09db783da76c",
        "57770a94d868c606",
        "bef264308d1c7679",
        "6ea6d0a5eaa617d1"
      ],
      "id": "57770a94d868c606",
      "date": 1471253277303
    },
    {
      "type": "edit",
      "id": "57770a94d868c606",
      "item": {
        "type": "code",
        "id": "57770a94d868c606",
        "text": "command script_UpdateMenus scriptObject\n put the script_MenuTitleTableArray of scriptObject into mTitleTableArray\n   \n set the menu_DataArray of scriptObject to mTitleTableArray -- local\n   \n -- now update Global menus\n repeat for each key gMenuTile in mTitleTableArray\n  if word 1 of gMenuTile = \"Global\" and word 2 of gMenuTile = \"|\" then\n   put mTitleTableArray [gMenuTile] into gMenuTable\n   menu_SetGlobalTable gMenuTile, gMenuTable\n  end if\n end repeat\n return mTitleTableArray\nend script_UpdateMenus"
      },
      "date": 1471253322883
    },
    {
      "type": "edit",
      "id": "7a2e09db783da76c",
      "item": {
        "type": "paragraph",
        "id": "7a2e09db783da76c",
        "text": "The indexes are created using [[script_UpdateMenus]] command. This command contains the following key handlers:* [[fads]]"
      },
      "date": 1471253445809
    },
    {
      "type": "edit",
      "id": "7a2e09db783da76c",
      "item": {
        "type": "markdown",
        "id": "7a2e09db783da76c",
        "text": "The indexes are created using [[script_UpdateMenus]] command. This command contains the following key handlers:* [[fads]]"
      },
      "date": 1471253447607
    },
    {
      "type": "edit",
      "id": "7a2e09db783da76c",
      "item": {
        "type": "markdown",
        "id": "7a2e09db783da76c",
        "text": "The indexes are created using [[script_UpdateMenus]] command. This command contains the following key handlers:\n* [[fads]]"
      },
      "date": 1471253455902
    },
    {
      "type": "edit",
      "id": "7a2e09db783da76c",
      "item": {
        "type": "markdown",
        "id": "7a2e09db783da76c",
        "text": "The indexes are created using [[script_UpdateMenus]] command. This command contains the following key handlers:]:\n\n* [[script_MenuTitleTableArray]]\n* [[script_MenuTitleTableArray]]"
      },
      "date": 1471253476733
    },
    {
      "type": "edit",
      "id": "7a2e09db783da76c",
      "item": {
        "type": "markdown",
        "id": "7a2e09db783da76c",
        "text": "The indexes are created using [[script_UpdateMenus]] command. This command contains the following key handlers:]:\n\n* [[script_MenuTitleTableArray]]\n* [[menu_DataArray]]"
      },
      "date": 1471253484733
    },
    {
      "type": "edit",
      "id": "7a2e09db783da76c",
      "item": {
        "type": "markdown",
        "id": "7a2e09db783da76c",
        "text": "The indexes are created using [[script_UpdateMenus]] command. This command contains the following key handlers:\n\n* [[script_MenuTitleTableArray]]\n* [[menu_DataArray]]\n* [[menu_SetGlobalTable]]"
      },
      "date": 1471253504933
    },
    {
      "type": "remove",
      "id": "57770a94d868c606",
      "date": 1471253518875
    }
  ]
}