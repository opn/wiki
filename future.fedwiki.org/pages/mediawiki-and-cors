{
  "title": "Mediawiki and CORS",
  "story": [
    {
      "type": "paragraph",
      "id": "7acc932ef9fa2d17",
      "text": "[[Mediawiki]] sites such as [[Wikipedia]] look like they are able to work with cross-origin resource sharing ([[CORS]])."
    },
    {
      "type": "paragraph",
      "id": "090ad5b9ad72b2cd",
      "text": "On Wikimedia wikis CORS is enabled since September 2012; as of October 2013 CORS pre-flight requests are also supported."
    },
    {
      "type": "paragraph",
      "id": "7a570e12cd489e57",
      "text": "For a [[CORS]] request to be allowed by the remote wiki, $wgCrossSiteAJAXdomains must be set appropriately to allow the origin site. "
    },
    {
      "type": "paragraph",
      "id": "b18298f0e72d781c",
      "text": "The [[MediaWiki API]] also requires that the origin be supplied as a request parameter, appropriately named \"origin\", which is matched against the Origin header required by the CORS protocol. "
    },
    {
      "type": "paragraph",
      "id": "2a07a5694a8c98c1",
      "text": "Note that this header must be included in any pre-flight request, and so should be included in the query string portion of the request URI even for POST requests."
    },
    {
      "type": "paragraph",
      "id": "5775715c819258f5",
      "text": "If the CORS origin check passes, MediaWiki will include the Access-Control-Allow-Credentials: true header in the response, so authentication cookies may be sent."
    }
  ],
  "journal": [
    {
      "type": "create",
      "item": {
        "title": "Mediawiki and CORS",
        "story": []
      },
      "date": 1434977889932
    },
    {
      "item": {
        "type": "factory",
        "id": "7acc932ef9fa2d17"
      },
      "id": "7acc932ef9fa2d17",
      "type": "add",
      "date": 1434977894576
    },
    {
      "type": "edit",
      "id": "7acc932ef9fa2d17",
      "item": {
        "type": "paragraph",
        "id": "7acc932ef9fa2d17",
        "text": "[[Mediawiki]] sites such as [[Wikipedia]] look like they are able to work with cross-origin resource sharing ([[CORS]])."
      },
      "date": 1434977963180
    },
    {
      "type": "add",
      "item": {
        "type": "paragraph",
        "id": "7a570e12cd489e57",
        "text": "For a [[CORS]] request to be allowed by the remote wiki, $wgCrossSiteAJAXdomains must be set appropriately to allow the origin site. "
      },
      "after": "7acc932ef9fa2d17",
      "id": "7a570e12cd489e57",
      "date": 1434977969326
    },
    {
      "type": "add",
      "item": {
        "type": "paragraph",
        "id": "b18298f0e72d781c",
        "text": "The [[MediaWiki API]] also requires that the origin be supplied as a request parameter, appropriately named \"origin\", which is matched against the Origin header required by the CORS protocol. "
      },
      "after": "7a570e12cd489e57",
      "id": "b18298f0e72d781c",
      "date": 1434977975556
    },
    {
      "type": "add",
      "item": {
        "type": "paragraph",
        "id": "2a07a5694a8c98c1",
        "text": "Note that this header must be included in any pre-flight request, and so should be included in the query string portion of the request URI even for POST requests."
      },
      "after": "b18298f0e72d781c",
      "id": "2a07a5694a8c98c1",
      "date": 1434977980703
    },
    {
      "type": "add",
      "item": {
        "type": "paragraph",
        "id": "5775715c819258f5",
        "text": "If the CORS origin check passes, MediaWiki will include the Access-Control-Allow-Credentials: true header in the response, so authentication cookies may be sent."
      },
      "after": "2a07a5694a8c98c1",
      "id": "5775715c819258f5",
      "date": 1434977983958
    },
    {
      "type": "add",
      "item": {
        "type": "paragraph",
        "id": "090ad5b9ad72b2cd",
        "text": "On Wikimedia wikis CORS is enabled since September 2012; as of October 2013 CORS pre-flight requests are also supported."
      },
      "after": "7acc932ef9fa2d17",
      "id": "090ad5b9ad72b2cd",
      "date": 1434977988533
    }
  ]
}